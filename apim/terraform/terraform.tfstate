{
  "version": 4,
  "terraform_version": "1.12.2",
  "serial": 305,
  "lineage": "417d9d87-9f35-7220-36d6-124e1e8bbdf6",
  "outputs": {
    "api_endpoints": {
      "value": {
        "api_back-office-ux-bo-approval-servicing-order": "https://9kto3919x1.execute-api.us-east-1.amazonaws.com/dev",
        "bbe-msa-ux-bo-user-management-v1": "https://rggci1dtbb.execute-api.us-east-1.amazonaws.com/dev",
        "bbe-msa-ux-tray-order-v1": "https://s5buzhhjv5.execute-api.us-east-1.amazonaws.com/dev"
      },
      "type": [
        "object",
        {
          "api_back-office-ux-bo-approval-servicing-order": "string",
          "bbe-msa-ux-bo-user-management-v1": "string",
          "bbe-msa-ux-tray-order-v1": "string"
        }
      ]
    },
    "api_invoke_urls": {
      "value": {
        "api_back-office-ux-bo-approval-servicing-order": "https://9kto3919x1.execute-api.us-east-1.amazonaws.com/dev",
        "bbe-msa-ux-bo-user-management-v1": "https://rggci1dtbb.execute-api.us-east-1.amazonaws.com/dev",
        "bbe-msa-ux-tray-order-v1": "https://s5buzhhjv5.execute-api.us-east-1.amazonaws.com/dev"
      },
      "type": [
        "object",
        {
          "api_back-office-ux-bo-approval-servicing-order": "string",
          "bbe-msa-ux-bo-user-management-v1": "string",
          "bbe-msa-ux-tray-order-v1": "string"
        }
      ]
    },
    "nlb": {
      "value": {
        "arn": "arn:aws:elasticloadbalancing:us-east-1:458709605842:loadbalancer/net/a56fa51e907974948afd5ece19e008c3/2b948b95d57237cc",
        "dns": "a56fa51e907974948afd5ece19e008c3-2b948b95d57237cc.elb.us-east-1.amazonaws.com"
      },
      "type": [
        "object",
        {
          "arn": "string",
          "dns": "string"
        }
      ]
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "aws_caller_identity",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": "458709605842",
            "arn": "arn:aws:iam::458709605842:user/jquevedo@morrisopazo.com",
            "id": "458709605842",
            "user_id": "AIDAWVTJZDXJKPYEHQNSB"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "secrets_read_doc",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "1396055720",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"secretsmanager:GetSecretValue\",\n      \"Resource\": [\n        \"arn:aws:secretsmanager:us-east-1:458709605842:secret:rsa-keys/dev-82S2cq*\",\n        \"arn:aws:secretsmanager:us-east-1:458709605842:secret:rsa-keys/dev-82S2cq\"\n      ]\n    }\n  ]\n}",
            "minified_json": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":\"secretsmanager:GetSecretValue\",\"Resource\":[\"arn:aws:secretsmanager:us-east-1:458709605842:secret:rsa-keys/dev-82S2cq*\",\"arn:aws:secretsmanager:us-east-1:458709605842:secret:rsa-keys/dev-82S2cq\"]}]}",
            "override_json": null,
            "override_policy_documents": null,
            "policy_id": null,
            "source_json": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "secretsmanager:GetSecretValue"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "arn:aws:secretsmanager:us-east-1:458709605842:secret:rsa-keys/dev-82S2cq",
                  "arn:aws:secretsmanager:us-east-1:458709605842:secret:rsa-keys/dev-82S2cq*"
                ],
                "sid": ""
              }
            ],
            "version": "2012-10-17"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_lb",
      "name": "k8s_nlb",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "access_logs": [
              {
                "bucket": "",
                "enabled": false,
                "prefix": ""
              }
            ],
            "arn": "arn:aws:elasticloadbalancing:us-east-1:458709605842:loadbalancer/net/a56fa51e907974948afd5ece19e008c3/2b948b95d57237cc",
            "arn_suffix": "net/a56fa51e907974948afd5ece19e008c3/2b948b95d57237cc",
            "client_keep_alive": null,
            "connection_logs": [
              {
                "bucket": null,
                "enabled": null,
                "prefix": null
              }
            ],
            "customer_owned_ipv4_pool": "",
            "desync_mitigation_mode": null,
            "dns_name": "a56fa51e907974948afd5ece19e008c3-2b948b95d57237cc.elb.us-east-1.amazonaws.com",
            "dns_record_client_routing_policy": "any_availability_zone",
            "drop_invalid_header_fields": null,
            "enable_cross_zone_load_balancing": false,
            "enable_deletion_protection": false,
            "enable_http2": null,
            "enable_tls_version_and_cipher_suite_headers": null,
            "enable_waf_fail_open": null,
            "enable_xff_client_port": null,
            "enable_zonal_shift": false,
            "enforce_security_group_inbound_rules_on_private_link_traffic": "",
            "id": "arn:aws:elasticloadbalancing:us-east-1:458709605842:loadbalancer/net/a56fa51e907974948afd5ece19e008c3/2b948b95d57237cc",
            "idle_timeout": null,
            "internal": false,
            "ip_address_type": "ipv4",
            "ipam_pools": [],
            "load_balancer_type": "network",
            "name": "a56fa51e907974948afd5ece19e008c3",
            "preserve_host_header": null,
            "region": "us-east-1",
            "security_groups": [],
            "subnet_mapping": [
              {
                "allocation_id": "",
                "ipv6_address": "",
                "outpost_id": "",
                "private_ipv4_address": "",
                "subnet_id": "subnet-039058244e375a19f"
              },
              {
                "allocation_id": "",
                "ipv6_address": "",
                "outpost_id": "",
                "private_ipv4_address": "",
                "subnet_id": "subnet-077c486d4fee55883"
              }
            ],
            "subnets": [
              "subnet-039058244e375a19f",
              "subnet-077c486d4fee55883"
            ],
            "tags": {
              "kubernetes.io/cluster/desarrollo-eks": "owned",
              "kubernetes.io/service-name": "istio-system/istio-ingressgateway"
            },
            "timeouts": null,
            "vpc_id": "vpc-0460f67b8e0530a61",
            "xff_header_processing_mode": null,
            "zone_id": "Z26RNL4JYFTOTI"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_lb_listener",
      "name": "k8s_nlb_listener",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "alpn_policy": null,
            "arn": "arn:aws:elasticloadbalancing:us-east-1:458709605842:listener/net/a56fa51e907974948afd5ece19e008c3/2b948b95d57237cc/fdf44e8edf97b7d6",
            "certificate_arn": null,
            "default_action": [
              {
                "authenticate_cognito": [],
                "authenticate_oidc": [],
                "fixed_response": [],
                "forward": [
                  {
                    "stickiness": [],
                    "target_group": [
                      {
                        "arn": "arn:aws:elasticloadbalancing:us-east-1:458709605842:targetgroup/k8s-istiosys-istioing-e390c94cce/9cfe2813c8fa4509",
                        "weight": 0
                      }
                    ]
                  }
                ],
                "order": 0,
                "redirect": [],
                "target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:458709605842:targetgroup/k8s-istiosys-istioing-e390c94cce/9cfe2813c8fa4509",
                "type": "forward"
              }
            ],
            "id": "arn:aws:elasticloadbalancing:us-east-1:458709605842:listener/net/a56fa51e907974948afd5ece19e008c3/2b948b95d57237cc/fdf44e8edf97b7d6",
            "load_balancer_arn": "arn:aws:elasticloadbalancing:us-east-1:458709605842:loadbalancer/net/a56fa51e907974948afd5ece19e008c3/2b948b95d57237cc",
            "mutual_authentication": [],
            "port": 80,
            "protocol": "TCP",
            "region": "us-east-1",
            "ssl_policy": "",
            "tags": {
              "kubernetes.io/cluster/desarrollo-eks": "owned",
              "kubernetes.io/service-name": "istio-system/istio-ingressgateway"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_region",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "US East (N. Virginia)",
            "endpoint": "ec2.us-east-1.amazonaws.com",
            "id": "us-east-1",
            "name": "us-east-1",
            "region": "us-east-1"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_secretsmanager_secret",
      "name": "rsa_keys",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:secretsmanager:us-east-1:458709605842:secret:rsa-keys/dev-82S2cq",
            "created_date": "2025-09-19T23:07:53Z",
            "description": "RSA PEM keys (base64)",
            "id": "arn:aws:secretsmanager:us-east-1:458709605842:secret:rsa-keys/dev-82S2cq",
            "kms_key_id": "",
            "last_changed_date": "2025-09-19T23:13:31Z",
            "name": "rsa-keys/dev",
            "policy": "",
            "region": "us-east-1",
            "tags": {}
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "secrets_read",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::458709605842:policy/lambda-secrets-read",
            "attachment_count": 1,
            "description": "",
            "id": "arn:aws:iam::458709605842:policy/lambda-secrets-read",
            "name": "lambda-secrets-read",
            "name_prefix": "",
            "path": "/",
            "policy": "{\"Statement\":[{\"Action\":\"secretsmanager:GetSecretValue\",\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:secretsmanager:us-east-1:458709605842:secret:rsa-keys/dev-82S2cq*\",\"arn:aws:secretsmanager:us-east-1:458709605842:secret:rsa-keys/dev-82S2cq\"]}],\"Version\":\"2012-10-17\"}",
            "policy_id": "ANPAWVTJZDXJDZ6CXUU5H",
            "tags": {},
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "arn": "arn:aws:iam::458709605842:policy/lambda-secrets-read"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "data.aws_iam_policy_document.secrets_read_doc",
            "data.aws_secretsmanager_secret.rsa_keys"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "secrets_read_attach",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "lambda_back-office-preprocessing_a",
          "schema_version": 0,
          "attributes": {
            "id": "pre-lambda_back-office-preprocessing_a-role/arn:aws:iam::458709605842:policy/lambda-secrets-read",
            "policy_arn": "arn:aws:iam::458709605842:policy/lambda-secrets-read",
            "role": "pre-lambda_back-office-preprocessing_a-role"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "458709605842",
            "policy_arn": "arn:aws:iam::458709605842:policy/lambda-secrets-read",
            "role": "pre-lambda_back-office-preprocessing_a-role"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_policy.secrets_read",
            "aws_security_group.lambda_sg",
            "data.aws_iam_policy_document.secrets_read_doc",
            "data.aws_lb.k8s_nlb",
            "data.aws_secretsmanager_secret.rsa_keys",
            "module.lambda_pre.aws_iam_role.lambda_exec",
            "module.lambda_pre.aws_iam_role_policy.secrets_read",
            "module.lambda_pre.aws_iam_role_policy_attachment.basic",
            "module.lambda_pre.aws_iam_role_policy_attachment.vpc_access",
            "module.lambda_pre.aws_lambda_function.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lambda_permission",
      "name": "allow_apigw",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "api_back-office-ux-bo-approval-servicing-order",
          "schema_version": 0,
          "attributes": {
            "action": "lambda:InvokeFunction",
            "event_source_token": null,
            "function_name": "arn:aws:lambda:us-east-1:458709605842:function:pre-lambda_back-office-preprocessing_a",
            "function_url_auth_type": null,
            "id": "AllowAPIGW-api_back-office-ux-bo-approval-servicing-order",
            "principal": "apigateway.amazonaws.com",
            "principal_org_id": null,
            "qualifier": "",
            "region": "us-east-1",
            "source_account": null,
            "source_arn": "arn:aws:execute-api:us-east-1:458709605842:9kto3919x1/*/*/*",
            "statement_id": "AllowAPIGW-api_back-office-ux-bo-approval-servicing-order",
            "statement_id_prefix": ""
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "458709605842",
            "function_name": "arn:aws:lambda:us-east-1:458709605842:function:pre-lambda_back-office-preprocessing_a",
            "qualifier": null,
            "region": "us-east-1",
            "statement_id": "AllowAPIGW-api_back-office-ux-bo-approval-servicing-order"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_security_group.lambda_sg",
            "data.aws_caller_identity.current",
            "data.aws_lb.k8s_nlb",
            "data.aws_lb_listener.k8s_nlb_listener",
            "data.aws_region.current",
            "module.http_api.aws_apigatewayv2_api.api_from_spec",
            "module.http_api.aws_apigatewayv2_stage.stage",
            "module.lambda_pre.aws_iam_role.lambda_exec",
            "module.lambda_pre.aws_iam_role_policy.secrets_read",
            "module.lambda_pre.aws_iam_role_policy_attachment.basic",
            "module.lambda_pre.aws_iam_role_policy_attachment.vpc_access",
            "module.lambda_pre.aws_lambda_function.this",
            "module.vpclink.aws_apigatewayv2_vpc_link.this"
          ]
        },
        {
          "index_key": "bbe-msa-ux-bo-user-management-v1",
          "schema_version": 0,
          "attributes": {
            "action": "lambda:InvokeFunction",
            "event_source_token": null,
            "function_name": "arn:aws:lambda:us-east-1:458709605842:function:pre-lambda_back-office-preprocessing_a",
            "function_url_auth_type": null,
            "id": "AllowAPIGW-bbe-msa-ux-bo-user-management-v1",
            "principal": "apigateway.amazonaws.com",
            "principal_org_id": null,
            "qualifier": "",
            "region": "us-east-1",
            "source_account": null,
            "source_arn": "arn:aws:execute-api:us-east-1:458709605842:rggci1dtbb/*/*/*",
            "statement_id": "AllowAPIGW-bbe-msa-ux-bo-user-management-v1",
            "statement_id_prefix": ""
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "458709605842",
            "function_name": "arn:aws:lambda:us-east-1:458709605842:function:pre-lambda_back-office-preprocessing_a",
            "qualifier": null,
            "region": "us-east-1",
            "statement_id": "AllowAPIGW-bbe-msa-ux-bo-user-management-v1"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_security_group.lambda_sg",
            "data.aws_caller_identity.current",
            "data.aws_lb.k8s_nlb",
            "data.aws_lb_listener.k8s_nlb_listener",
            "data.aws_region.current",
            "module.http_api.aws_apigatewayv2_api.api_from_spec",
            "module.http_api.aws_apigatewayv2_stage.stage",
            "module.lambda_pre.aws_iam_role.lambda_exec",
            "module.lambda_pre.aws_iam_role_policy.secrets_read",
            "module.lambda_pre.aws_iam_role_policy_attachment.basic",
            "module.lambda_pre.aws_iam_role_policy_attachment.vpc_access",
            "module.lambda_pre.aws_lambda_function.this",
            "module.vpclink.aws_apigatewayv2_vpc_link.this"
          ]
        },
        {
          "index_key": "bbe-msa-ux-tray-order-v1",
          "schema_version": 0,
          "attributes": {
            "action": "lambda:InvokeFunction",
            "event_source_token": null,
            "function_name": "arn:aws:lambda:us-east-1:458709605842:function:pre-lambda_back-office-preprocessing_a",
            "function_url_auth_type": null,
            "id": "AllowAPIGW-bbe-msa-ux-tray-order-v1",
            "principal": "apigateway.amazonaws.com",
            "principal_org_id": null,
            "qualifier": "",
            "region": "us-east-1",
            "source_account": null,
            "source_arn": "arn:aws:execute-api:us-east-1:458709605842:s5buzhhjv5/*/*/*",
            "statement_id": "AllowAPIGW-bbe-msa-ux-tray-order-v1",
            "statement_id_prefix": ""
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "458709605842",
            "function_name": "arn:aws:lambda:us-east-1:458709605842:function:pre-lambda_back-office-preprocessing_a",
            "qualifier": null,
            "region": "us-east-1",
            "statement_id": "AllowAPIGW-bbe-msa-ux-tray-order-v1"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_security_group.lambda_sg",
            "data.aws_caller_identity.current",
            "data.aws_lb.k8s_nlb",
            "data.aws_lb_listener.k8s_nlb_listener",
            "data.aws_region.current",
            "module.http_api.aws_apigatewayv2_api.api_from_spec",
            "module.http_api.aws_apigatewayv2_stage.stage",
            "module.lambda_pre.aws_iam_role.lambda_exec",
            "module.lambda_pre.aws_iam_role_policy.secrets_read",
            "module.lambda_pre.aws_iam_role_policy_attachment.basic",
            "module.lambda_pre.aws_iam_role_policy_attachment.vpc_access",
            "module.lambda_pre.aws_lambda_function.this",
            "module.vpclink.aws_apigatewayv2_vpc_link.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group",
      "name": "lambda_sg",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:458709605842:security-group/sg-0a323e9bea3e7a295",
            "description": "Egress from Lambda to NLB",
            "egress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 443,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 443
              },
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 80,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 80
              }
            ],
            "id": "sg-0a323e9bea3e7a295",
            "ingress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              }
            ],
            "name": "lambda-preproxy-sg",
            "name_prefix": "",
            "owner_id": "458709605842",
            "region": "us-east-1",
            "revoke_rules_on_delete": false,
            "tags": {
              "Name": "lambda-preproxy-sg",
              "env": "dev",
              "owner": "da-team"
            },
            "tags_all": {
              "Name": "lambda-preproxy-sg",
              "env": "dev",
              "owner": "da-team"
            },
            "timeouts": null,
            "vpc_id": "vpc-0460f67b8e0530a61"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "458709605842",
            "id": "sg-0a323e9bea3e7a295",
            "region": "us-east-1"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0="
        }
      ]
    },
    {
      "module": "module.http_api[\"api_back-office-ux-bo-approval-servicing-order\"]",
      "mode": "managed",
      "type": "aws_apigatewayv2_api",
      "name": "api_from_spec",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "api_endpoint": "https://9kto3919x1.execute-api.us-east-1.amazonaws.com",
            "api_key_selection_expression": "$request.header.x-api-key",
            "arn": "arn:aws:apigateway:us-east-1::/apis/9kto3919x1",
            "body": "openapi: 3.0.0\r\ninfo:\r\n  title: API Channel - Back Office - Approval Servicing Order V1\r\n  description: 'Channel API For Customer Management. \u003cbr\u003e\r\n\r\n    \u003cbr\u003e\r\n\r\n    \u003cb\u003e• Business Area\u003c/b\u003e `Sales and service`\r\n\r\n    \u003cbr\u003e\r\n\r\n    \u003cb\u003e• Business Domain\u003c/b\u003e `Customer Management`\r\n\r\n    \u003cbr\u003e\r\n\r\n    \u003cb\u003e• Service Domain\u003c/b\u003e `Customer Products and Services`\r\n\r\n    '\r\n  contact:\r\n    name: Carlos Quiroz\r\n    email: cquirozv-ext@pichincha.pe\r\n  version: 1.0.0\r\nservers:\r\n- url: https://{apiId}.execute-api.{region}.amazonaws.com/{stage}\r\n  variables:\r\n    apiId:\r\n      default: yourApiId\r\n    region:\r\n      default: us-east-1\r\n    stage:\r\n      default: dev\r\ntags:\r\n- name: Servicing Order\r\n  description: Servicing Order Controller\r\nsecurity:\r\n- oauth2: []\r\npaths:\r\n  /channel/back-office/v1/servicing-order/list:\r\n    get:\r\n      tags:\r\n      - Servicing Order\r\n      summary: Retrieves list of records pending approval.\r\n      description: '### Details:\r\n\r\n        Retrieve list of activations pending approval by filter\r\n\r\n        ### Valid use of parameters:\r\n\r\n        | Expected result | Path Parameter | Query Parameter |\r\n\r\n        |--------------------|--------------- |-----------------|\r\n\r\n        |Retrieve activations by filter customerUuid  | - |  customerUuid  |\r\n\r\n        |Retrieve activations by filter status | - |  status   |\r\n\r\n        |Retrieve activations by filter fullName| - |  fullName  |\r\n\r\n        |Index to start returning the elements| - |  offset |\r\n\r\n        |Number of records to return| - |  limit|\r\n\r\n        |Returns the orders that were executed (approved or rejected) | - |  moreData=processedOrders\r\n        |\r\n\r\n        ### The combination described above are the only possible combinations of\r\n        parameters, other combinations will return error.\r\n\r\n        '\r\n      security:\r\n      - oauth2: []\r\n      parameters:\r\n      - in: header\r\n        name: authorization\r\n        description: token jwt\r\n        required: true\r\n        schema:\r\n          type: string\r\n      - in: header\r\n        name: app-name\r\n        description: Application Name\r\n        required: true\r\n        schema:\r\n          type: string\r\n          example: businessBanking\r\n      - in: header\r\n        name: caller-name\r\n        description: Api name who request\r\n        required: true\r\n        schema:\r\n          type: string\r\n          example: bbe-msa-bs-guided-experience\r\n      - in: header\r\n        name: process-code\r\n        description: Identifies the process or functionality\r\n        required: true\r\n        schema:\r\n          type: string\r\n          example: BJACAR01\r\n      - in: header\r\n        name: request-date\r\n        description: Request Date | RFC 3339 Format\r\n        required: true\r\n        schema:\r\n          type: string\r\n        example: 2019-10-12 07:20:50.520000+00:00\r\n      - in: header\r\n        name: request-id\r\n        description: Request Identifier\r\n        required: true\r\n        schema:\r\n          type: string\r\n      - in: header\r\n        name: x-device\r\n        description: Identifier of the device.\r\n        required: true\r\n        schema:\r\n          type: string\r\n          example: 9939aadd00ee32\r\n      - in: header\r\n        name: x-device-ip\r\n        description: IP address of origin of the request.\r\n        required: true\r\n        schema:\r\n          type: string\r\n          example: 200.10.89.34\r\n      - in: header\r\n        name: x-language\r\n        description: ISO – 639-1 – Language Code - 2 digit code.\r\n        required: true\r\n        schema:\r\n          type: string\r\n          maxLength: 5\r\n      - in: query\r\n        name: customerUuid\r\n        description: Pseudo identifier to retrieve information from cache.\r\n        required: false\r\n        schema:\r\n          type: string\r\n          example: 3fa85f64-5717-4562-b3fc-2c963f66afa6\r\n      - in: query\r\n        name: status\r\n        description: Activation status\r\n        required: true\r\n        schema:\r\n          type: string\r\n          example: PENDING\r\n      - in: query\r\n        name: fullName\r\n        description: Company name\r\n        required: false\r\n        schema:\r\n          type: string\r\n          example: TEST COMPANY SA\r\n      - in: query\r\n        name: offset\r\n        description: Index to start returning the elements\r\n        required: false\r\n        schema:\r\n          type: integer\r\n          minimum: 0\r\n        example: 10\r\n      - in: query\r\n        name: limit\r\n        description: Number of records to return\r\n        required: false\r\n        schema:\r\n          type: integer\r\n          minimum: 1\r\n        example: 5\r\n      - in: query\r\n        name: moreData\r\n        description: Returns the orders that were executed (approved or rejected).\r\n        required: false\r\n        schema:\r\n          type: string\r\n          example: processedOrders\r\n      responses:\r\n        '200':\r\n          description: Successful search.\r\n          content:\r\n            application/json;charset=UTF-8:\r\n              schema:\r\n                $ref: '#/components/schemas/GetServicingOrderListByFilterResponse'\r\n              examples:\r\n                GetServicingOrderListByFilterResponseExample:\r\n                  $ref: '#/components/examples/GetServicingOrderListByFilterResponseExample'\r\n        '400':\r\n          $ref: '#/components/responses/BadRequest'\r\n        '401':\r\n          $ref: '#/components/responses/Unauthorized'\r\n        '403':\r\n          $ref: '#/components/responses/Forbidden'\r\n        '404':\r\n          $ref: '#/components/responses/NotFound'\r\n        '409':\r\n          $ref: '#/components/responses/Conflict'\r\n        '429':\r\n          $ref: '#/components/responses/TooManyRequests'\r\n        '500':\r\n          $ref: '#/components/responses/InternalError'\r\n        '504':\r\n          $ref: '#/components/responses/GatewayTimeout'\r\n      x-amazon-apigateway-integration:\r\n        payloadFormatVersion: '2.0'\r\n        type: aws_proxy\r\n        httpMethod: POST\r\n        uri: arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:458709605842:function:pre-lambda_back-office-preprocessing_a/invocations\r\n  /channel/back-office/v1/servicing-order:\r\n    get:\r\n      tags:\r\n      - Servicing Order\r\n      summary: Recover a servicing order by order.\r\n      description: '### Details:\r\n\r\n        Recover a servicing order by order.\r\n\r\n        ### Valid use of parameters:\r\n\r\n        | Expected result | Path Parameter | Query Parameter |\r\n\r\n        |--------------------|--------------- |-----------------|\r\n\r\n        |Retrieve servicing order by filter trayOrderId | - | trayOrderId |\r\n\r\n        '\r\n      parameters:\r\n      - in: header\r\n        name: authorization\r\n        required: true\r\n        description: token jwt\r\n        schema:\r\n          type: string\r\n      - in: header\r\n        name: app-name\r\n        required: true\r\n        description: Application Name - BackOffice | BusinessBanking | MobileToken\r\n        schema:\r\n          type: string\r\n          example: BackOffice\r\n      - in: header\r\n        name: caller-name\r\n        required: true\r\n        description: Api name who request\r\n        schema:\r\n          type: string\r\n          example: bbe-msa-bs-guided-experience\r\n      - in: header\r\n        name: process-code\r\n        required: false\r\n        description: Identifies the process or functionality\r\n        schema:\r\n          type: string\r\n          example: BJACAR01\r\n      - in: header\r\n        name: request-date\r\n        required: true\r\n        description: Request Date | RFC 3339 Format\r\n        schema:\r\n          $ref: '#/components/schemas/request-date'\r\n        example: 2019-04-29 07:20:50.520000+00:00\r\n      - in: header\r\n        name: request-id\r\n        required: true\r\n        description: Request Identifier\r\n        schema:\r\n          type: string\r\n          example: id of request\r\n      - in: header\r\n        name: x-session\r\n        required: false\r\n        description: Indicates the active session in which the user is transacting.\r\n        schema:\r\n          type: string\r\n          example: a9fd8deb-2aad-4d88-a7e3-d153c9e44b66\r\n      - in: header\r\n        name: x-device\r\n        required: true\r\n        description: Identifier of the device.\r\n        schema:\r\n          type: string\r\n          example: 9939aadd00ee32\r\n      - in: header\r\n        name: x-device-ip\r\n        required: true\r\n        description: IP address of origin of the request.\r\n        schema:\r\n          type: string\r\n          example: 200.10.89.34\r\n      - in: header\r\n        name: x-language\r\n        required: true\r\n        description: ISO – 639-1 – Language Code - 2 digit code.\r\n        schema:\r\n          type: string\r\n          maxLength: 5\r\n      - in: query\r\n        name: trayOrderUuid\r\n        required: true\r\n        description: Identifier to retrieve information from cache.\r\n        schema:\r\n          type: string\r\n          example: 123456\r\n      responses:\r\n        '200':\r\n          description: OK\r\n          content:\r\n            application/json;charset=UTF-8:\r\n              schema:\r\n                $ref: '#/components/schemas/GetServicingOrderByFilterResponse'\r\n        '401':\r\n          $ref: '#/components/responses/Unauthorized'\r\n        '403':\r\n          $ref: '#/components/responses/Forbidden'\r\n        '500':\r\n          $ref: '#/components/responses/InternalError'\r\n        '502':\r\n          $ref: '#/components/responses/BadGateway'\r\n      security:\r\n      - oauth2: []\r\n      x-amazon-apigateway-integration:\r\n        payloadFormatVersion: '2.0'\r\n        type: aws_proxy\r\n        httpMethod: POST\r\n        uri: arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:458709605842:function:pre-lambda_back-office-preprocessing_a/invocations\r\n    post:\r\n      tags:\r\n      - Servicing Order\r\n      summary: Update and delete service order.\r\n      description: '### Details:\r\n\r\n        Update and delete the registration of the activation service order by identification.\r\n\r\n        '\r\n      parameters:\r\n      - in: header\r\n        name: authorization\r\n        required: true\r\n        description: token jwt\r\n        schema:\r\n          type: string\r\n      - in: header\r\n        name: app-name\r\n        required: true\r\n        description: Application Name - BackOffice | BusinessBanking | MobileToken\r\n        schema:\r\n          type: string\r\n          example: BackOffice\r\n      - in: header\r\n        name: caller-name\r\n        required: true\r\n        description: Api name who request\r\n        schema:\r\n          type: string\r\n          example: bbe-msa-bs-guided-experience\r\n      - in: header\r\n        name: process-code\r\n        required: false\r\n        description: Identifies the process or functionality\r\n        schema:\r\n          type: string\r\n          example: BJACAR01\r\n      - in: header\r\n        name: request-date\r\n        required: true\r\n        description: Request Date | RFC 3339 Format\r\n        schema:\r\n          $ref: '#/components/schemas/request-date'\r\n        example: 2019-04-29 07:20:50.520000+00:00\r\n      - in: header\r\n        name: request-id\r\n        required: true\r\n        description: Request Identifier\r\n        schema:\r\n          type: string\r\n          example: id of request\r\n      - in: header\r\n        name: x-session\r\n        required: false\r\n        description: Indicates the active session in which the user is transacting.\r\n        schema:\r\n          type: string\r\n          example: a9fd8deb-2aad-4d88-a7e3-d153c9e44b66\r\n      - in: header\r\n        name: x-device\r\n        required: true\r\n        description: Identifier of the device.\r\n        schema:\r\n          type: string\r\n          example: 9939aadd00ee32\r\n      - in: header\r\n        name: x-device-ip\r\n        required: true\r\n        description: IP address of origin of the request.\r\n        schema:\r\n          type: string\r\n          example: 200.10.89.34\r\n      - in: header\r\n        name: x-language\r\n        required: true\r\n        description: ISO – 639-1 – Language Code - 2 digit code.\r\n        schema:\r\n          type: string\r\n          maxLength: 5\r\n      requestBody:\r\n        required: true\r\n        description: Request to update or delete servicing order\r\n        content:\r\n          application/json:\r\n            schema:\r\n              $ref: '#/components/schemas/PostServicingOrderRequest'\r\n      responses:\r\n        '200':\r\n          description: Servicing order updated or deleted.\r\n          content:\r\n            application/json;charset=UTF-8:\r\n              schema:\r\n                $ref: '#/components/schemas/PostServicingOrderResponse'\r\n        '401':\r\n          $ref: '#/components/responses/Unauthorized'\r\n        '403':\r\n          $ref: '#/components/responses/Forbidden'\r\n        '500':\r\n          $ref: '#/components/responses/InternalError'\r\n        '502':\r\n          $ref: '#/components/responses/BadGateway'\r\n      security:\r\n      - oauth2: []\r\n      x-amazon-apigateway-integration:\r\n        payloadFormatVersion: '2.0'\r\n        type: aws_proxy\r\n        httpMethod: POST\r\n        uri: arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:458709605842:function:pre-lambda_back-office-preprocessing_a/invocations\r\ncomponents:\r\n  securitySchemes:\r\n    ApiKeyAuth:\r\n      type: apiKey\r\n      in: header\r\n      name: x-api-key\r\n    oauth2:\r\n      type: oauth2\r\n      x-amazon-apigateway-authorizer:\r\n        type: jwt\r\n        identitySource: $request.header.Authorization\r\n        jwtConfiguration:\r\n          issuer: https://login.microsoftonline.com/10da1d35-90f9-400b-9fd8-770597b82485/v2.0\r\n          audience: [\"api://56ee37cb-e5ad-482f-9855-86e85d8c7889\", \"56ee37cb-e5ad-482f-9855-86e85d8c7889\"]\r\n  responses:\r\n    BadRequest:\r\n      description: Bad Request\r\n      content:\r\n        application/json;charset=UTF-8:\r\n          schema:\r\n            $ref: '#/components/schemas/ErrorBadRequest'\r\n    Unauthorized:\r\n      description: Unauthorized\r\n      content:\r\n        application/json;charset=UTF-8:\r\n          schema:\r\n            $ref: '#/components/schemas/Error'\r\n    Forbidden:\r\n      description: Forbidden\r\n      content:\r\n        application/json;charset=UTF-8:\r\n          schema:\r\n            $ref: '#/components/schemas/Error'\r\n    NotFound:\r\n      description: Not Found\r\n      content:\r\n        application/json;charset=UTF-8:\r\n          schema:\r\n            $ref: '#/components/schemas/Error'\r\n    Conflict:\r\n      description: Conflict\r\n      content:\r\n        application/json;charset=UTF-8:\r\n          schema:\r\n            $ref: '#/components/schemas/Error'\r\n    TooManyRequests:\r\n      description: Too Many Requests\r\n      content:\r\n        application/json;charset=UTF-8:\r\n          schema:\r\n            $ref: '#/components/schemas/Error'\r\n    InternalError:\r\n      description: Internal Server Error\r\n      content:\r\n        application/json;charset=UTF-8:\r\n          schema:\r\n            $ref: '#/components/schemas/Error'\r\n    GatewayTimeout:\r\n      description: Gateway Timeout\r\n      content:\r\n        application/json;charset=UTF-8:\r\n          schema:\r\n            $ref: '#/components/schemas/Error'\r\n    BadGateway:\r\n      description: Bad Gateway\r\n      content:\r\n        application/json;charset=UTF-8:\r\n          schema:\r\n            $ref: '#/components/schemas/Error'\r\n  schemas:\r\n    GetServicingOrderListByFilterResponse:\r\n      type: object\r\n      properties:\r\n        servicingOrders:\r\n          type: array\r\n          items:\r\n            $ref: '#/components/schemas/GetServicingOrderList'\r\n        pagination:\r\n          $ref: '#/components/schemas/Pagination'\r\n    GetServicingOrderList:\r\n      type: object\r\n      properties:\r\n        trayOrderId:\r\n          type: string\r\n          description: Number of the creation order.\r\n          example: '14621'\r\n          maxLength: 50\r\n        company:\r\n          $ref: '#/components/schemas/Company'\r\n        status:\r\n          $ref: '#/components/schemas/Status'\r\n        history:\r\n          type: array\r\n          items:\r\n            $ref: '#/components/schemas/GetHistory'\r\n    GetServicingOrderByFilterResponse:\r\n      type: object\r\n      properties:\r\n        servicingOrder:\r\n          type: array\r\n          items:\r\n            $ref: '#/components/schemas/GetServicingOrder'\r\n    GetServicingOrder:\r\n      type: object\r\n      properties:\r\n        trayOrderId:\r\n          type: string\r\n          description: number servicing Order\r\n          example: '14621'\r\n        customerAffiliationId:\r\n          type: string\r\n          description: customer affiliation id\r\n          example: 963b7033-a47b-41d7-84e5-0df6aae68f10\r\n        entityTag:\r\n          type: string\r\n          description: entity Tag\r\n          example: 14AUHYA-127201-QQ\r\n        company:\r\n          $ref: '#/components/schemas/Company'\r\n        status:\r\n          $ref: '#/components/schemas/Status'\r\n        accountId:\r\n          type: string\r\n          description: account identification Mask | acccount number\r\n          example: abcd1234-a47b-41d7-a1b2-0df6aae68f10\r\n        numberApprovers:\r\n          type: integer\r\n          description: number approvers\r\n          example: 1\r\n        packageProduct:\r\n          type: array\r\n          items:\r\n            $ref: '#/components/schemas/PackageProduct'\r\n        history:\r\n          type: array\r\n          items:\r\n            $ref: '#/components/schemas/GetHistory'\r\n    PackageProduct:\r\n      type: object\r\n      properties:\r\n        packageId:\r\n          type: string\r\n          description: package Id\r\n          example: 01906096-eb18-432b-a9ac-0aa5e80ebe9a\r\n        name:\r\n          type: string\r\n          description: name\r\n          example: Paquete avanzado\r\n        isEditable:\r\n          type: boolean\r\n          description: Whether the package is editable or not\r\n          example: true\r\n        products:\r\n          type: array\r\n          items:\r\n            $ref: '#/components/schemas/GetProductSave'\r\n    GetProductSave:\r\n      type: object\r\n      properties:\r\n        productId:\r\n          type: string\r\n          description: Product Id.\r\n          example: A0AA046A-9884-46A4-9262-BD284F785DDB\r\n        customerProductId:\r\n          type: string\r\n          description: Id Customer Product.\r\n          example: 01906096-eb18-432b-a9ac-0aa5e80ebe9a\r\n        name:\r\n          type: string\r\n          description: The name of the product\r\n          example: TRCTAPR\r\n        description:\r\n          type: string\r\n          description: Descriptions product\r\n          example: Transferencias a Cuentas Propias\r\n        isSelected:\r\n          type: boolean\r\n          description: Whether the product is selected or not\r\n          example: false\r\n        isSelectedUser:\r\n          type: boolean\r\n          description: Whether the product is selected or not for the customer\r\n          example: false\r\n        price:\r\n          type: number\r\n          format: double\r\n          description: price.\r\n          example: 500\r\n        currency:\r\n          $ref: '#/components/schemas/Currency'\r\n        parameters:\r\n          type: array\r\n          items:\r\n            $ref: '#/components/schemas/GetParameters'\r\n        approvalLevels:\r\n          type: array\r\n          items:\r\n            $ref: '#/components/schemas/GetApprovalLevels'\r\n        productsAccounts:\r\n          type: array\r\n          items:\r\n            $ref: '#/components/schemas/GetProductSonSave'\r\n    GetProductSonSave:\r\n      type: object\r\n      properties:\r\n        productId:\r\n          type: string\r\n          description: Product Id child.\r\n          example: A0AA046A-9884-46A4-9262-BD284F785DDB\r\n        customerProductId:\r\n          type: string\r\n          description: Id Customer Product child.\r\n          example: 01906096-eb18-432b-a9ac-0aa5e80ebe9a\r\n        description:\r\n          type: string\r\n          description: description\r\n          example: Cuentas\r\n        coreProductId:\r\n          type: string\r\n          description: core Product Id.\r\n          example: '123456'\r\n        approvalLevels:\r\n          type: array\r\n          items:\r\n            $ref: '#/components/schemas/GetApprovalLevelsSonSave'\r\n    GetApprovalLevelsSonSave:\r\n      type: object\r\n      properties:\r\n        categories:\r\n          type: array\r\n          items:\r\n            $ref: '#/components/schemas/CategorySave'\r\n        limitsAmount:\r\n          type: array\r\n          items:\r\n            $ref: '#/components/schemas/LimitAmount'\r\n    CategorySave:\r\n      type: object\r\n      properties:\r\n        categoryId:\r\n          type: string\r\n          description: category Id.\r\n          example: 01906096-eb18-432b-a9ac-0aa5e80ebe9a\r\n        code:\r\n          type: string\r\n          description: category code.\r\n          example: '001'\r\n        name:\r\n          type: string\r\n          description: category name.\r\n          example: Categoria A\r\n    Status:\r\n      type: object\r\n      properties:\r\n        code:\r\n          type: string\r\n          description: status code\r\n          example: PENDING\r\n          maxLength: 50\r\n    PostServicingOrderResponse:\r\n      type: object\r\n      properties:\r\n        message:\r\n          type: string\r\n          description: returns delete or update successful\r\n          example: success deleted\r\n    PostServicingOrderRequest:\r\n      type: object\r\n      properties:\r\n        trayOrders:\r\n          type: array\r\n          items:\r\n            $ref: '#/components/schemas/TrayOrderIdArray'\r\n        customerUuid:\r\n          type: string\r\n          description: Pseudo identifier to retrieve information from cache.\r\n          example: 3fa85f64-5717-4562-b3fc-2c963f66afa6\r\n        instructingUser:\r\n          type: string\r\n          description: approver user.\r\n          example: jramos\r\n        action:\r\n          type: boolean\r\n          description: true to update and false to delete\r\n          example: true\r\n    TrayOrderIdArray:\r\n      type: object\r\n      properties:\r\n        trayOrderId:\r\n          type: string\r\n          description: number servicing Order\r\n          example: '14621'\r\n    GetHistory:\r\n      type: object\r\n      properties:\r\n        date:\r\n          type: string\r\n          description: date history\r\n          example: '2022-11-23T14:18:47.478+00:00'\r\n          maxLength: 100\r\n        instructingUser:\r\n          type: string\r\n          description: instructing user history.\r\n          example: jramos\r\n          maxLength: 100\r\n        action:\r\n          type: string\r\n          description: action history.\r\n          example: TO_CREATING\r\n          maxLength: 50\r\n        nextStatus:\r\n          type: string\r\n          description: next Status history.\r\n          example: PENDING_APPROVAL\r\n          maxLength: 50\r\n        channel:\r\n          type: string\r\n          description: channel history.\r\n          example: Back Office\r\n          maxLength: 50\r\n    Currency:\r\n      type: object\r\n      properties:\r\n        code:\r\n          type: string\r\n          description: currency code | ISO-4217\r\n          example: USD\r\n        description:\r\n          type: string\r\n          description: currency description | ISO-4217\r\n          example: Dolares Americanos\r\n    GetApprovalLevels:\r\n      type: object\r\n      properties:\r\n        categories:\r\n          type: array\r\n          items:\r\n            $ref: '#/components/schemas/CategoryChildren'\r\n        limitsAmount:\r\n          type: array\r\n          items:\r\n            $ref: '#/components/schemas/LimitAmount'\r\n    LimitAmount:\r\n      type: object\r\n      properties:\r\n        minAmount:\r\n          type: string\r\n          description: minimum amount\r\n          example: '0'\r\n        maxAmount:\r\n          type: string\r\n          description: maximum amount\r\n          example: '10'\r\n        currency:\r\n          $ref: '#/components/schemas/Currency'\r\n        categories:\r\n          type: array\r\n          items:\r\n            $ref: '#/components/schemas/CategoryId'\r\n    CategoryId:\r\n      type: object\r\n      properties:\r\n        categoryId:\r\n          type: string\r\n          description: category id\r\n          example: 01906096-eb18-432b-a9ac-0aa5e80ebe9a\r\n    CategoryChildren:\r\n      type: object\r\n      properties:\r\n        categoryId:\r\n          type: string\r\n          description: category Id.\r\n          example: 01906096-eb18-432b-a9ac-0aa5e80ebe9a\r\n        code:\r\n          type: string\r\n          description: category code.\r\n          example: '001'\r\n        name:\r\n          type: string\r\n          description: category name.\r\n          example: Categoria A\r\n    GetParameters:\r\n      type: object\r\n      properties:\r\n        name:\r\n          type: string\r\n          description: The name of the parameter\r\n          example: TSPOOL\r\n        description:\r\n          type: string\r\n          description: Description parameter\r\n          example: Tasa Pool\r\n        value:\r\n          type: string\r\n          description: value parameter\r\n          example: '7.5'\r\n        typeValue:\r\n          type: string\r\n          description: type Value parameter\r\n          example: Porcentaje\r\n        status:\r\n          $ref: '#/components/schemas/Status'\r\n    Company:\r\n      type: object\r\n      properties:\r\n        name:\r\n          type: string\r\n          description: The name company\r\n          example: Test Company SAC\r\n          maxLength: 50\r\n        documentNumber:\r\n          type: string\r\n          description: company identification number\r\n          example: '20569076893'\r\n          maxLength: 50\r\n        documentType:\r\n          type: string\r\n          description: document type number\r\n          example: '1'\r\n          maxLength: 50\r\n    Pagination:\r\n      type: object\r\n      properties:\r\n        itemQuantity:\r\n          type: integer\r\n          description: total number of available records\r\n          example: 40\r\n          maxLength: 100\r\n    ErrorBadRequest:\r\n      type: object\r\n      properties:\r\n        title:\r\n          type: string\r\n          description: Technical error message.\r\n          example: Missing mandatory fields.\r\n          maxLength: 50\r\n        detail:\r\n          type: string\r\n          description: Message to display to the client.\r\n          example: The input fields are not correct\r\n          maxLength: 50\r\n        errors:\r\n          type: array\r\n          items:\r\n            $ref: '#/components/schemas/ErrorList'\r\n        instance:\r\n          type: string\r\n          description: Error catalog code.\r\n          example: '022'\r\n          maxLength: 50\r\n        type:\r\n          type: string\r\n          description: Address where the error occurs.\r\n          example: /v1/name/pathSuffix\r\n          maxLength: 100\r\n    ErrorList:\r\n      type: object\r\n      properties:\r\n        message:\r\n          type: string\r\n          description: Message.\r\n          example: Bad Request\r\n          maxLength: 50\r\n        businessMessage:\r\n          type: string\r\n          description: Business error message.\r\n          example: The xyz field is mandatory\r\n          maxLength: 50\r\n    Error:\r\n      type: object\r\n      properties:\r\n        errorCode:\r\n          type: string\r\n          description: Error code.\r\n          maxLength: 6\r\n        developerMessage:\r\n          type: string\r\n          description: Developer message.\r\n          maxLength: 256\r\n        userMessage:\r\n          type: string\r\n          description: User message.\r\n          maxLength: 256\r\n        moreInfo:\r\n          type: string\r\n          description: More info.\r\n          maxLength: 256\r\n      additionalProperties: false\r\n    request-date:\r\n      type: string\r\n  examples:\r\n    GetServicingOrderListByFilterResponseExample:\r\n      value:\r\n        servicingOrders:\r\n        - trayOrderId: '14621'\r\n          company:\r\n            name: Test Company SAC\r\n            documentNumber: '20569076893'\r\n            documentType: '1'\r\n          status:\r\n            code: PENDING\r\n          history:\r\n          - date: '2022-11-23T14:18:47.478+00:00'\r\n            instructingUser: jramos\r\n            action: TO_CREATING\r\n            nextStatus: PENDING_APPROVAL\r\n            channel: Back Office\r\n        pagination:\r\n          itemQuantity: 40\r\nx-amazon-apigateway-cors:\r\n  allowOrigins:\r\n  - '*'\r\n  allowHeaders:\r\n  - Authorization\r\n  - Content-Type\r\n  - x-api-key\r\n  - x-language\r\n  - app-name\r\n  - caller-name\r\n  - client-ip\r\n  allowMethods:\r\n  - GET\r\n  - POST\r\n  - OPTIONS\r\n",
            "cors_configuration": [],
            "credentials_arn": null,
            "description": "",
            "disable_execute_api_endpoint": false,
            "execution_arn": "arn:aws:execute-api:us-east-1:458709605842:9kto3919x1",
            "fail_on_warnings": null,
            "id": "9kto3919x1",
            "ip_address_type": "ipv4",
            "name": "API back office ux bo approval servicing order",
            "protocol_type": "HTTP",
            "region": "us-east-1",
            "route_key": null,
            "route_selection_expression": "$request.method $request.path",
            "tags": {
              "env": "dev",
              "owner": "da-team"
            },
            "tags_all": {
              "env": "dev",
              "owner": "da-team"
            },
            "target": null,
            "version": ""
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "aws_security_group.lambda_sg",
            "data.aws_lb.k8s_nlb",
            "data.aws_lb_listener.k8s_nlb_listener",
            "module.lambda_pre.aws_iam_role.lambda_exec",
            "module.lambda_pre.aws_iam_role_policy.secrets_read",
            "module.lambda_pre.aws_iam_role_policy_attachment.basic",
            "module.lambda_pre.aws_iam_role_policy_attachment.vpc_access",
            "module.lambda_pre.aws_lambda_function.this",
            "module.vpclink.aws_apigatewayv2_vpc_link.this"
          ]
        }
      ]
    },
    {
      "module": "module.http_api[\"api_back-office-ux-bo-approval-servicing-order\"]",
      "mode": "managed",
      "type": "aws_apigatewayv2_stage",
      "name": "stage",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "access_log_settings": [],
            "api_id": "9kto3919x1",
            "arn": "arn:aws:apigateway:us-east-1::/apis/9kto3919x1/stages/dev",
            "auto_deploy": true,
            "client_certificate_id": "",
            "default_route_settings": [
              {
                "data_trace_enabled": false,
                "detailed_metrics_enabled": false,
                "logging_level": "",
                "throttling_burst_limit": 0,
                "throttling_rate_limit": 0
              }
            ],
            "deployment_id": "abm825",
            "description": "",
            "execution_arn": "arn:aws:execute-api:us-east-1:458709605842:9kto3919x1/dev",
            "id": "dev",
            "invoke_url": "https://9kto3919x1.execute-api.us-east-1.amazonaws.com/dev",
            "name": "dev",
            "region": "us-east-1",
            "route_settings": [],
            "stage_variables": {},
            "tags": {},
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "aws_security_group.lambda_sg",
            "data.aws_lb.k8s_nlb",
            "data.aws_lb_listener.k8s_nlb_listener",
            "module.http_api.aws_apigatewayv2_api.api_from_spec",
            "module.lambda_pre.aws_iam_role.lambda_exec",
            "module.lambda_pre.aws_iam_role_policy.secrets_read",
            "module.lambda_pre.aws_iam_role_policy_attachment.basic",
            "module.lambda_pre.aws_iam_role_policy_attachment.vpc_access",
            "module.lambda_pre.aws_lambda_function.this",
            "module.vpclink.aws_apigatewayv2_vpc_link.this"
          ]
        }
      ]
    },
    {
      "module": "module.http_api[\"bbe-msa-ux-bo-user-management-v1\"]",
      "mode": "managed",
      "type": "aws_apigatewayv2_api",
      "name": "api_from_spec",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "api_endpoint": "https://rggci1dtbb.execute-api.us-east-1.amazonaws.com",
            "api_key_selection_expression": "$request.header.x-api-key",
            "arn": "arn:aws:apigateway:us-east-1::/apis/rggci1dtbb",
            "body": "openapi: 3.0.1\ninfo:\n  title: Api Channel Back Office User Management V1\n  description: ' Api for manage user \u003cbr\u003e \u003cbr\u003e Business Area `Operations and Execution`\n    \u003cbr\u003e Business Domain `Operational Services` \u003cbr\u003e Service Domain `User Management` '\n  version: 1.1.0\n  contact:\n    name: Rossmel Mendoza\n    email: rmendoza-ext@pichincha.pe\nservers:\n- description: Back Office User Management Layer\n  url: http://localhost:8080/channel/back-office/v1/user-management\nsecurity:\n- oauth2: []\ntags:\n- name: Profile Template\n  description: Profile Template Controller\n- name: User\n  description: User Controller\n- name: Account\n  description: Account Controller\n- name: Banking Product Operation\n  description: Banking Product Operation Controller\n- name: User Approval Level\n  description: User Approval Level Controller\npaths:\n  /channel/back-office/v1/user-management/profile-templates:\n    get:\n      tags:\n      - Profile Template\n      summary: Retrieve a list of profile templates\n      description: \"### Details:\\n\\n  Retrieve a list profile templates\\n\"\n      operationId: getProfileTemplateByFilters\n      responses:\n        200:\n          description: Profile template list\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: '#/components/schemas/GetProfileTemplateByFiltersResponse'\n        400:\n          description: The request information it's not correct.\n          content:\n            application/json;charset=UTF-8:\n              schema:\n                $ref: '#/components/schemas/Error'\n        401:\n          description: You're not authorized to perform this operation.\n          content:\n            application/json;charset=UTF-8:\n              schema:\n                $ref: '#/components/schemas/Error'\n        403:\n          description: You don't have the right permissions to execute this operation.\n          content:\n            application/json;charset=UTF-8:\n              schema:\n                $ref: '#/components/schemas/Error'\n        500:\n          description: An error has occurred.\n          content:\n            application/json;charset=UTF-8:\n              schema:\n                $ref: '#/components/schemas/Error'\n        502:\n          description: The service is not available.\n          content:\n            application/json;charset=UTF-8:\n              schema:\n                $ref: '#/components/schemas/Error'\n      x-amazon-apigateway-integration:\n        payloadFormatVersion: '2.0'\n        type: aws_proxy\n        httpMethod: POST\n        uri: arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:458709605842:function:pre-lambda_back-office-preprocessing_a/invocations\n  /channel/back-office/v1/user-management/users:\n    get:\n      tags:\n      - User\n      summary: Retrieves users list by customer\n      description: \"### Details:\\n  Retrieves a users list by customer\\n\\n### Valid\\\n        \\ use of parameters:\\n| Expected result | Path Parameter | Query Parameter\\\n        \\ |\\n|--------------------|--------------- |-----------------|\\n|Retrieve\\\n        \\ a list of users by customer | - | customerAffiliationId |\\n### The combination\\\n        \\ described above are the only possible combinations of parameters, other\\\n        \\ combinations will return error.\\n\"\n      operationId: getUser\n      responses:\n        200:\n          description: The User Information\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: '#/components/schemas/GetUserByFilterResponse'\n        401:\n          description: You're not authorized to perform this operation.\n          content:\n            application/json;charset=UTF-8:\n              schema:\n                $ref: '#/components/schemas/Error'\n        403:\n          description: You don't have the right permissions to execute this operation.\n          content:\n            application/json;charset=UTF-8:\n              schema:\n                $ref: '#/components/schemas/Error'\n        500:\n          description: An error has occurred.\n          content:\n            application/json;charset=UTF-8:\n              schema:\n                $ref: '#/components/schemas/Error'\n        502:\n          description: The service is not available.\n          content:\n            application/json;charset=UTF-8:\n              schema:\n                $ref: '#/components/schemas/Error'\n      x-amazon-apigateway-integration:\n        payloadFormatVersion: '2.0'\n        type: aws_proxy\n        httpMethod: POST\n        uri: arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:458709605842:function:pre-lambda_back-office-preprocessing_a/invocations\n    post:\n      tags:\n      - User\n      summary: Save basic user information\n      description: '### Details:\n\n        Saves the basic information of the user and returns the masked id of the saved\n        user\n\n        '\n      operationId: postUser\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/PostUserRequest'\n      responses:\n        200:\n          description: User information saved successfully\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/PostUserResponse'\n        400:\n          description: The request information it's not correct.\n          content:\n            application/json;charset=UTF-8:\n              schema:\n                $ref: '#/components/schemas/Error'\n        401:\n          description: You're not authorized to perform this operation.\n          content:\n            application/json;charset=UTF-8:\n              schema:\n                $ref: '#/components/schemas/Error'\n        403:\n          description: You don't have the right permissions to execute this operation.\n          content:\n            application/json;charset=UTF-8:\n              schema:\n                $ref: '#/components/schemas/Error'\n        500:\n          description: An error has occurred.\n          content:\n            application/json;charset=UTF-8:\n              schema:\n                $ref: '#/components/schemas/Error'\n        502:\n          description: The service is not available.\n          content:\n            application/json;charset=UTF-8:\n              schema:\n                $ref: '#/components/schemas/Error'\n      x-amazon-apigateway-integration:\n        payloadFormatVersion: '2.0'\n        type: aws_proxy\n        httpMethod: POST\n        uri: arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:458709605842:function:pre-lambda_back-office-preprocessing_a/invocations\n  /channel/back-office/v1/user-management/users/activate:\n    post:\n      tags:\n      - User\n      summary: Activate the user\n      description: '### Details:\n\n        Activate the user and the session will expire it\n\n        '\n      operationId: postUserActivate\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/PostUserActivateRequest'\n        required: true\n      responses:\n        200:\n          description: Operation validated successfully\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/PostUserResponse'\n        400:\n          description: The request information it's not correct.\n          content:\n            application/json;charset=UTF-8:\n              schema:\n                $ref: '#/components/schemas/Error'\n        401:\n          description: You're not authorized to perform this operation.\n          content:\n            application/json;charset=UTF-8:\n              schema:\n                $ref: '#/components/schemas/Error'\n        403:\n          description: You don't have the right permissions to execute this operation.\n          content:\n            application/json;charset=UTF-8:\n              schema:\n                $ref: '#/components/schemas/Error'\n        500:\n          description: An error has occurred.\n          content:\n            application/json;charset=UTF-8:\n              schema:\n                $ref: '#/components/schemas/Error'\n        502:\n          description: The service is not available.\n          content:\n            application/json;charset=UTF-8:\n              schema:\n                $ref: '#/components/schemas/Error'\n      x-amazon-apigateway-integration:\n        payloadFormatVersion: '2.0'\n        type: aws_proxy\n        httpMethod: POST\n        uri: arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:458709605842:function:pre-lambda_back-office-preprocessing_a/invocations\n  /channel/back-office/v1/user-management/accounts:\n    get:\n      tags:\n      - Account\n      summary: Retrieve a list of accounts and permissions\n      description: '### Details\n\n        Retrieves a list of accounts and permissions available to the user id\n\n        '\n      operationId: getAccountByFilter\n      parameters:\n      - name: app-name\n        in: header\n        description: Application Name\n        required: false\n        style: simple\n        explode: false\n        schema:\n          type: string\n          example: businessBanking\n      - name: caller-name\n        in: header\n        description: Api name who request\n        required: false\n        style: simple\n        explode: false\n        schema:\n          type: string\n          example: bbe-msa-bs-guided-experience\n      - name: process-code\n        in: header\n        description: Identifies the process or functionality\n        required: false\n        schema:\n          type: string\n          example: BJACAR01\n      - name: request-date\n        in: header\n        description: Request Date | RFC 3339 Format\n        required: false\n        style: simple\n        explode: false\n        schema:\n          type: string\n        example: 2019-10-12 07:20:50.520000+00:00\n      - name: request-id\n        in: header\n        description: Request Identifier\n        required: false\n        style: simple\n        explode: false\n        schema:\n          type: string\n      - name: x-session\n        in: header\n        description: Indicates the active session in which the user is transacting.\n        required: false\n        style: simple\n        explode: false\n        schema:\n          type: string\n          example: a9fd8deb-2aad-4d88-a7e3-d153c9e44b66\n      - name: x-device\n        in: header\n        description: Identifier of the device.\n        required: false\n        style: simple\n        explode: false\n        schema:\n          type: string\n          example: 9939aadd00ee32\n      - name: x-device-ip\n        in: header\n        description: IP address of origin of the request.\n        required: false\n        style: simple\n        explode: false\n        schema:\n          type: string\n          example: 200.10.89.34\n      - name: x-language\n        in: header\n        description: ISO – 639-1  – Language Code - 2 digit code.\n        required: false\n        style: simple\n        explode: false\n        schema:\n          maxLength: 5\n          type: string\n      - in: query\n        name: userId\n        schema:\n          type: string\n          description: User Masked Uuid\n        required: true\n      responses:\n        200:\n          description: Profile customer products list\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/GetAccountByFilterResponse'\n        400:\n          description: The request information it's not correct.\n          content:\n            application/json;charset=UTF-8:\n              schema:\n                $ref: '#/components/schemas/Error'\n        401:\n          description: You're not authorized to perform this operation.\n          content:\n            application/json;charset=UTF-8:\n              schema:\n                $ref: '#/components/schemas/Error'\n        403:\n          description: You don't have the right permissions to execute this operation.\n          content:\n            application/json;charset=UTF-8:\n              schema:\n                $ref: '#/components/schemas/Error'\n        500:\n          description: An error has occurred.\n          content:\n            application/json;charset=UTF-8:\n              schema:\n                $ref: '#/components/schemas/Error'\n        502:\n          description: The service is not available.\n          content:\n            application/json;charset=UTF-8:\n              schema:\n                $ref: '#/components/schemas/Error'\n      x-amazon-apigateway-integration:\n        payloadFormatVersion: '2.0'\n        type: aws_proxy\n        httpMethod: POST\n        uri: arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:458709605842:function:pre-lambda_back-office-preprocessing_a/invocations\n  /channel/back-office/v1/user-management/banking-product-operations:\n    post:\n      tags:\n      - Banking Product Operation\n      summary: Save the user accounts and actions assigned\n      description: '### Details:\n\n        Save a list of accounts with a group of actions selected to assing to the\n        accounts\n\n        '\n      operationId: postBankingProductOperation\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/PostBankingProductOperationRequest'\n      responses:\n        200:\n          description: Accounts and actions assigned successfully\n        400:\n          description: The request information it's not correct.\n          content:\n            application/json;charset=UTF-8:\n              schema:\n                $ref: '#/components/schemas/Error'\n        401:\n          description: You're not authorized to perform this operation.\n          content:\n            application/json;charset=UTF-8:\n              schema:\n                $ref: '#/components/schemas/Error'\n        403:\n          description: You don't have the right permissions to execute this operation.\n          content:\n            application/json;charset=UTF-8:\n              schema:\n                $ref: '#/components/schemas/Error'\n        500:\n          description: An error has occurred.\n          content:\n            application/json;charset=UTF-8:\n              schema:\n                $ref: '#/components/schemas/Error'\n        502:\n          description: The service is not available.\n          content:\n            application/json;charset=UTF-8:\n              schema:\n                $ref: '#/components/schemas/Error'\n      x-amazon-apigateway-integration:\n        payloadFormatVersion: '2.0'\n        type: aws_proxy\n        httpMethod: POST\n        uri: arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:458709605842:function:pre-lambda_back-office-preprocessing_a/invocations\n  /channel/back-office/v1/user-management/user-approval-levels:\n    get:\n      tags:\n      - User Approval Level\n      summary: Retrieve a list of categories and levels for a company product.\n      description: '### Details:\n\n        Retrieve a list of categories and levels related a company product in base\n        a list of company product uuids and a user contract uuid\n\n        '\n      operationId: getUserApprovalLevelByFilter\n      parameters:\n      - in: query\n        name: userId\n        required: true\n        schema:\n          type: string\n        example: 236087d9-89d6-47f8-bab3-180aa16b3rty\n        description: Uuid of the user in registration process\n      responses:\n        200:\n          description: Return the data structure to show in the screen\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: '#/components/schemas/GetUserApprovalLevelByFilterResponse'\n        409:\n          description: The information are not valid\n          content:\n            application/json;charset-UTF-8:\n              schema:\n                $ref: '#/components/schemas/Error'\n        401:\n          description: You're not authorized to perform this operation\n          content:\n            application/json;charset-UTF-8:\n              schema:\n                $ref: '#/components/schemas/Error'\n        403:\n          description: You don't have the right permissions to execute this operation.\n          content:\n            application/json;charset-UTF-8:\n              schema:\n                $ref: '#/components/schemas/Error'\n        500:\n          description: An error has occurred\n          content:\n            application/json;charset-UTF-8:\n              schema:\n                $ref: '#/components/schemas/Error'\n        502:\n          description: The service is not available\n          content:\n            application/json;charset-UTF-8:\n              schema:\n                $ref: '#/components/schemas/Error'\n      x-amazon-apigateway-integration:\n        payloadFormatVersion: '2.0'\n        type: aws_proxy\n        httpMethod: POST\n        uri: arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:458709605842:function:pre-lambda_back-office-preprocessing_a/invocations\n    post:\n      tags:\n      - User Approval Level\n      summary: Save the information of the categories and products assigned to a user\n      description: '### Details:\n\n        Save the information of the categories and products selected to be assigned\n        to the user\n\n        '\n      operationId: postUsersUserApprovalLevel\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/PostUserApprovalLevelRequest'\n        required: true\n      responses:\n        200:\n          description: Categories and products assigned successfully\n        409:\n          description: The information are not valid\n          content:\n            application/json;charset-UTF-8:\n              schema:\n                $ref: '#/components/schemas/Error'\n        401:\n          description: You're not authorized to perform this operation\n          content:\n            application/json;charset-UTF-8:\n              schema:\n                $ref: '#/components/schemas/Error'\n        403:\n          description: You don't have the right permissions to execute this operation.\n          content:\n            application/json;charset-UTF-8:\n              schema:\n                $ref: '#/components/schemas/Error'\n        500:\n          description: An error has occurred\n          content:\n            application/json;charset-UTF-8:\n              schema:\n                $ref: '#/components/schemas/Error'\n        502:\n          description: The service is not available\n          content:\n            application/json;charset-UTF-8:\n              schema:\n                $ref: '#/components/schemas/Error'\n      x-amazon-apigateway-integration:\n        payloadFormatVersion: '2.0'\n        type: aws_proxy\n        httpMethod: POST\n        uri: arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:458709605842:function:pre-lambda_back-office-preprocessing_a/invocations\ncomponents:\n  schemas:\n    GetProfileTemplateByFiltersResponse:\n      title: GetProfileTemplateByFiltersResponse\n      type: object\n      properties:\n        profileTemplateId:\n          type: string\n          example: 1234-5678-90AB-CDEF\n        name:\n          type: string\n          example: Operator\n        description:\n          type: string\n          example: You will have access to create and generate transactions\n        registerDate:\n          type: string\n          format: date-time\n          example: '2017-07-21T17:32:28Z'\n        configParameters:\n          type: array\n          items:\n            $ref: '#/components/schemas/ProfileTemplateParam'\n    ProfileTemplateParam:\n      title: ProfileTemplateParam\n      type: object\n      properties:\n        name:\n          type: string\n          example: isEditable\n          description: Param code\n          x-mapping: profile_parameter.code_parameter\n        value:\n          type: string\n          example: '1'\n          description: Param value\n          x-mapping: profile_parameter.value\n    GetUserByFilterResponse:\n      title: GetUserByFilterResponse\n      type: object\n      required:\n      - customerAffiliationId\n      properties:\n        userId:\n          type: string\n          description: user id\n          example: 01906096-eb18-432b-a9ac-0aa5e80ebe9a\n        documentNumber:\n          type: string\n          description: document of identification user\n          example: '171655333001'\n        documentType:\n          type: string\n          description: type of documento\n          example: '0001'\n        names:\n          type: string\n          description: Names of user\n          example: Name\n        surnames:\n          type: string\n          description: Surnames\n          example: Lastname\n        position:\n          type: string\n          description: Surnames\n          example: Lastname\n        email:\n          type: string\n          description: Email of user\n          example: gobc@email.com\n        registerDate:\n          type: string\n          format: date-time\n          example: '2017-07-21T17:32:28Z'\n        channel:\n          type: string\n          example: Cliente\n        cellphone:\n          $ref: '#/components/schemas/CellPhone'\n        userProfile:\n          $ref: '#/components/schemas/Profile'\n        status:\n          $ref: '#/components/schemas/Status'\n    PostUserRequest:\n      title: PostUserRequest\n      type: object\n      properties:\n        userId:\n          type: string\n          example: 1234-5678-90AB-CDEF\n        profileTemplateId:\n          type: string\n          example: 1234-5678-90AB-CDEF\n        customerAffiliationId:\n          type: string\n          example: 1234-5678-90AB-CDEF\n        documentNumber:\n          type: string\n          example: '1721553616'\n          maxLength: 10\n        documentType:\n          type: string\n          example: '0001'\n          maxLength: 4\n        names:\n          type: string\n          example: Jhon Carlos\n        surnames:\n          type: string\n          example: Steward Colling\n        email:\n          type: string\n          example: jhondoe@mail.com\n        position:\n          type: string\n          example: Manager\n        cellphone:\n          $ref: '#/components/schemas/CellPhone'\n    CellPhone:\n      title: CellPhone\n      type: object\n      properties:\n        internationalPrefix:\n          type: string\n          example: '593'\n        number:\n          type: string\n          example: 0987654321\n    Profile:\n      title: Profile\n      type: object\n      required:\n      - userProfileId\n      properties:\n        userProfileId:\n          type: string\n          description: Code of profile\n          example: 01906096-eb18-432b-a9ac-0aa5e80ebe9a\n        name:\n          type: string\n          description: name of profile\n          example: Administrator\n        description:\n          type: string\n          description: Description\n          example: Allows you to perform operations to add, delete or modify\n    Status:\n      title: Status\n      type: object\n      required:\n      - code\n      properties:\n        code:\n          type: string\n          description: Code of status\n          example: STEP-1\n        description:\n          type: string\n          description: description of status\n          example: User in step 1\n    PostUserResponse:\n      title: PostUserResponse\n      type: object\n      properties:\n        userId:\n          type: string\n          example: 4085b199-5994-4016-ad0c-e28486c59008\n    GetAccountByFilterResponse:\n      title: GetAccountByFilterResponse\n      type: object\n      properties:\n        accounts:\n          type: array\n          items:\n            $ref: '#/components/schemas/GetAccount'\n        permissions:\n          type: array\n          items:\n            $ref: '#/components/schemas/GetPermission'\n    GetAccount:\n      title: GetAccount\n      type: object\n      properties:\n        accountId:\n          type: string\n          example: 2ad8b8fb-f414-4bd7-8733-82b8d8160452\n        name:\n          type: string\n          example: Cuenta ahorros\n        alias:\n          type: string\n          example: PRIN Santo domingo\n        type:\n          $ref: '#/components/schemas/GetAccountType'\n        accountNumber:\n          type: string\n          example: '2255889965'\n    GetAccountType:\n      title: GetAccountType\n      type: object\n      properties:\n        code:\n          type: string\n          example: ''\n        description:\n          type: string\n          example: CTA.CTE PERSONAL\n    GetPermission:\n      title: GetPermission\n      type: object\n      properties:\n        permissionId:\n          type: string\n          example: 2ad8b8fb-f414-4bd7-8733-82b8d8160452\n        description:\n          type: string\n          example: persmission descripcion example\n        claim:\n          type: string\n          example: RE.ASD.ED\n        isSelected:\n          type: boolean\n          example: true\n    PostBankingProductOperationRequest:\n      title: PostBankingProductOperationRequest\n      type: object\n      properties:\n        userId:\n          type: string\n          example: 2ad8b8fb-f414-4bd7-8733-82b8d8160452\n        accounts:\n          type: array\n          items:\n            $ref: '#/components/schemas/PostAccount'\n        actions:\n          type: array\n          items:\n            $ref: '#/components/schemas/PostAction'\n    PostAccount:\n      title: PostAccount\n      type: object\n      properties:\n        accountId:\n          type: string\n          example: 2ad8b8fb-f414-4bd7-8733-82b8d8160452\n    PostAction:\n      title: PostAction\n      type: object\n      properties:\n        actionId:\n          type: string\n          example: 2ad8b8fb-f414-4bd7-8733-82b8d8160452\n    GetUserApprovalLevelByFilterResponse:\n      title: GetUserApprovalLevelByFilterResponse\n      type: object\n      properties:\n        product:\n          $ref: '#/components/schemas/GetProduct'\n    GetProduct:\n      title: GetProduct\n      type: object\n      properties:\n        productId:\n          type: string\n          example: 01906096-eb18-432b-a9ac-0aa5e80ebe9a\n        name:\n          type: string\n          example: APR\n        description:\n          type: string\n          example: Aprobar transferencias\n        claim:\n          type: string\n          example: ABC.DEF.GHI\n        approvalLevels:\n          type: array\n          items:\n            $ref: '#/components/schemas/GetApprovalLevel'\n    GetApprovalLevel:\n      title: GetApprovalLevel\n      type: object\n      properties:\n        categories:\n          type: array\n          items:\n            $ref: '#/components/schemas/GetCategory'\n        limitsAmount:\n          type: array\n          items:\n            $ref: '#/components/schemas/GetLimitAmount'\n    GetCategory:\n      title: Category\n      type: object\n      properties:\n        categoryId:\n          type: string\n          example: 01906096-eb18-432b-a9ac-0aa5e80ebe9a\n        name:\n          type: string\n          example: Name example\n        isSelected:\n          type: boolean\n          example: false\n    GetLimitAmount:\n      title: GetLimitAmount\n      type: object\n      properties:\n        minAmount:\n          type: string\n          example: '0'\n        maxAmount:\n          type: string\n          example: '10'\n        currency:\n          $ref: '#/components/schemas/Currency'\n        categories:\n          type: array\n          items:\n            $ref: '#/components/schemas/GetCategoryId'\n    Currency:\n      type: object\n      properties:\n        code:\n          type: string\n          description: Code for currency\n          example: USD\n    GetCategoryId:\n      title: GetCategoryId\n      type: object\n      properties:\n        categoryId:\n          type: string\n          example: 01906096-eb18-432b-a9ac-0aa5e80ebe9a\n    PostUserApprovalLevelRequest:\n      title: PostUserApprovalLevelRequest\n      type: object\n      properties:\n        userId:\n          type: string\n          example: 4085b199-5994-4016-ad0c-e28486c59008\n        userProfileId:\n          type: string\n          example: 4085b199-5994-4016-ad0c-e28486c59008\n        userCustomerProduct:\n          type: array\n          items:\n            $ref: '#/components/schemas/PostUserCustomerProduct'\n    PostUserCustomerProduct:\n      title: PostUserCustomerProduct\n      type: object\n      properties:\n        productId:\n          type: string\n          example: 1234-5678-90AB-CDEFGH\n        approvalLevel:\n          $ref: '#/components/schemas/PostApprovalLevel'\n    PostApprovalLevel:\n      title: PostApprovalLevel\n      type: object\n      properties:\n        categoryId:\n          type: string\n          example: 1234-5678-90AB-CDEFGH\n        isSelected:\n          type: boolean\n          example: true\n    PostUserActivateRequest:\n      title: PostUserActivateRequest\n      type: object\n      properties:\n        userId:\n          type: string\n          example: 1234-5678-90AB-CDEFGH\n    Error:\n      type: object\n      additionalProperties: false\n      properties:\n        errorCode:\n          type: string\n          pattern: ^[a-zA-Z]+$\\d+$\n          maxLength: 6\n        developerMessage:\n          type: string\n          pattern: ^[a-zA-Z\\s]*$\n          maxLength: 256\n        userMessage:\n          type: string\n          pattern: ^[a-zA-Z\\s]*$\n          maxLength: 256\n        moreInfo:\n          type: string\n          pattern: ^[a-zA-Z\\s]*$\n          maxLength: 256\n        version:\n          maxLength: 256\n          pattern: ^[a-zA-Z\\s]*$\n          type: string\n          example: 1.0.0\n        status:\n          maxLength: 15\n          type: integer\n          example: 409\n  securitySchemes:\n    ApiKeyAuth:\n      type: apiKey\n      in: header\n      name: x-api-key\n    oauth2:\n      type: oauth2\n      x-amazon-apigateway-authorizer:\n        type: jwt\n        identitySource: $request.header.Authorization\n        jwtConfiguration:\n          issuer: https://login.microsoftonline.com/10da1d35-90f9-400b-9fd8-770597b82485/v2.0\n          audience: [\"api://56ee37cb-e5ad-482f-9855-86e85d8c7889\", \"56ee37cb-e5ad-482f-9855-86e85d8c7889\"]\nx-amazon-apigateway-cors:\n  allowOrigins:\n  - '*'\n  allowHeaders:\n  - Authorization\n  - Content-Type\n  - x-api-key\n  - x-language\n  - app-name\n  - caller-name\n  - client-ip\n  allowMethods:\n  - GET\n  - POST\n  - OPTIONS\n",
            "cors_configuration": [],
            "credentials_arn": null,
            "description": "",
            "disable_execute_api_endpoint": false,
            "execution_arn": "arn:aws:execute-api:us-east-1:458709605842:rggci1dtbb",
            "fail_on_warnings": null,
            "id": "rggci1dtbb",
            "ip_address_type": "ipv4",
            "name": "API Back Office User Management",
            "protocol_type": "HTTP",
            "region": "us-east-1",
            "route_key": null,
            "route_selection_expression": "$request.method $request.path",
            "tags": {
              "env": "dev",
              "owner": "da-team"
            },
            "tags_all": {
              "env": "dev",
              "owner": "da-team"
            },
            "target": null,
            "version": ""
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "aws_security_group.lambda_sg",
            "data.aws_lb.k8s_nlb",
            "data.aws_lb_listener.k8s_nlb_listener",
            "module.lambda_pre.aws_iam_role.lambda_exec",
            "module.lambda_pre.aws_iam_role_policy.secrets_read",
            "module.lambda_pre.aws_iam_role_policy_attachment.basic",
            "module.lambda_pre.aws_iam_role_policy_attachment.vpc_access",
            "module.lambda_pre.aws_lambda_function.this",
            "module.vpclink.aws_apigatewayv2_vpc_link.this"
          ]
        }
      ]
    },
    {
      "module": "module.http_api[\"bbe-msa-ux-bo-user-management-v1\"]",
      "mode": "managed",
      "type": "aws_apigatewayv2_stage",
      "name": "stage",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "access_log_settings": [],
            "api_id": "rggci1dtbb",
            "arn": "arn:aws:apigateway:us-east-1::/apis/rggci1dtbb/stages/dev",
            "auto_deploy": true,
            "client_certificate_id": "",
            "default_route_settings": [
              {
                "data_trace_enabled": false,
                "detailed_metrics_enabled": false,
                "logging_level": "",
                "throttling_burst_limit": 0,
                "throttling_rate_limit": 0
              }
            ],
            "deployment_id": "cdz4bu",
            "description": "",
            "execution_arn": "arn:aws:execute-api:us-east-1:458709605842:rggci1dtbb/dev",
            "id": "dev",
            "invoke_url": "https://rggci1dtbb.execute-api.us-east-1.amazonaws.com/dev",
            "name": "dev",
            "region": "us-east-1",
            "route_settings": [],
            "stage_variables": {},
            "tags": {},
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "aws_security_group.lambda_sg",
            "data.aws_lb.k8s_nlb",
            "data.aws_lb_listener.k8s_nlb_listener",
            "module.http_api.aws_apigatewayv2_api.api_from_spec",
            "module.lambda_pre.aws_iam_role.lambda_exec",
            "module.lambda_pre.aws_iam_role_policy.secrets_read",
            "module.lambda_pre.aws_iam_role_policy_attachment.basic",
            "module.lambda_pre.aws_iam_role_policy_attachment.vpc_access",
            "module.lambda_pre.aws_lambda_function.this",
            "module.vpclink.aws_apigatewayv2_vpc_link.this"
          ]
        }
      ]
    },
    {
      "module": "module.http_api[\"bbe-msa-ux-tray-order-v1\"]",
      "mode": "managed",
      "type": "aws_apigatewayv2_api",
      "name": "api_from_spec",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "api_endpoint": "https://s5buzhhjv5.execute-api.us-east-1.amazonaws.com",
            "api_key_selection_expression": "$request.header.x-api-key",
            "arn": "arn:aws:apigateway:us-east-1::/apis/s5buzhhjv5",
            "body": "openapi: 3.0.0\r\ninfo:\r\n  title: Api Channel Business Banking Approval Tray Order V1\r\n  description: 'Api Channel Business Banking Approval Tray Order V1. \u003cbr\u003e\r\n\r\n    \u003e \u003cb\u003eDominio de Servicio BIAN\u003c/b\u003e `Payment Rail Operations`\u003cbr\u003e\r\n\r\n    '\r\n  contact:\r\n    name: Decepticons - Stalin Tupiza\r\n    email: stupiza@pichincha.com\r\n  version: 1.2.3\r\nexternalDocs:\r\n  description: API Documentation\r\n  url: https://pichincha.sharepoint.com/sites/BankFormers/SitePages/Gobierno-de-Apis.aspx\r\nservers:\r\n- url: http://localhost:8080/channel/business-banking/v1/approval-tray-orders\r\n  description: Server in devops in business banking layer\r\n  \r\nsecurity:\r\n- oauth2: []\r\n\r\ntags:\r\n- name: Order\r\n  description: Order Controller\r\npaths:\r\n  /orders/retrieve:\r\n    post:\r\n      tags:\r\n      - Order\r\n      summary: Returns orders to approve\r\n      description: '### Details\r\n\r\n        Retrieves the orders that the user can approve\r\n\r\n        ### Valid use of parameters:\r\n\r\n        | Expected result | Query Parameter |\r\n\r\n        |-------------------- |-----------------|\r\n\r\n        |Retrieves the first 10 registered orders  | - |\r\n\r\n        |Retrieves the orders into a range   | limit, offset |\r\n\r\n\r\n        '\r\n      operationId: PostOrderRetrieve\r\n      parameters:\r\n      - name: authorization\r\n        in: header\r\n        description: JWT Authorization Token.\r\n        required: true\r\n        schema:\r\n          type: string\r\n          example: ZDk5b0FscGdHdVBLR0Y1eG5pRDlqQzgwbzlMWHIyUTpzNUJMTDAwTW1Cck\r\n      - name: app-name\r\n        in: header\r\n        description: Application Name - BackOffice | BusinessBanking | MobileToken\r\n        required: true\r\n        schema:\r\n          type: string\r\n          example: BackOffice\r\n      - name: caller-name\r\n        in: header\r\n        description: Api name who request\r\n        required: true\r\n        schema:\r\n          type: string\r\n          example: bbe-msa-bs-guided-experience\r\n      - name: process-code\r\n        in: header\r\n        description: Identifies the process or functionality\r\n        required: false\r\n        schema:\r\n          type: string\r\n          example: BJACAR01\r\n      - name: request-date\r\n        in: header\r\n        description: Request Date | RFC 3339 Format\r\n        required: true\r\n        schema:\r\n          $ref: '#/components/schemas/request-date'\r\n        example: 2019-04-29 07:20:50.520000+00:00\r\n      - name: request-id\r\n        in: header\r\n        description: Request Identifier\r\n        required: true\r\n        schema:\r\n          type: string\r\n          example: id of request\r\n      - name: x-device\r\n        in: header\r\n        description: Identifier of the device.\r\n        required: true\r\n        style: simple\r\n        explode: false\r\n        schema:\r\n          type: string\r\n          example: 9939aadd00ee32\r\n      - name: x-device-ip\r\n        in: header\r\n        description: IP address of origin of the request.\r\n        required: true\r\n        style: simple\r\n        explode: false\r\n        schema:\r\n          type: string\r\n          example: 200.10.89.34\r\n      - name: x-language\r\n        in: header\r\n        description: ISO – 639-1  – Language Code - 2 digit code.\r\n        required: true\r\n        style: simple\r\n        explode: false\r\n        schema:\r\n          maxLength: 5\r\n          type: string\r\n      - name: offset\r\n        in: query\r\n        description: index to start returning the elements\r\n        required: false\r\n        style: form\r\n        explode: true\r\n        schema:\r\n          minimum: 0\r\n          type: integer\r\n        example: 10\r\n      - name: limit\r\n        in: query\r\n        description: Number of orders to return\r\n        required: false\r\n        style: form\r\n        explode: true\r\n        schema:\r\n          minimum: 1\r\n          type: integer\r\n        example: 5\r\n      requestBody:\r\n        content:\r\n          application/json:\r\n            schema:\r\n              $ref: '#/components/schemas/DashboardFilters'\r\n      responses:\r\n        '200':\r\n          description: Orders successfully retrieved, last page\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: '#/components/schemas/UxGetOrderResponse'\r\n        '206':\r\n          description: Orders successfully retrieved, partial content\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: '#/components/schemas/UxGetOrderResponse'\r\n        '400':\r\n          description: The request information is not correct.\r\n          content:\r\n            application/json;charset=UTF-8:\r\n              schema:\r\n                $ref: '#/components/schemas/Error'\r\n        '401':\r\n          description: You're not authorized to perform this operation.\r\n          content:\r\n            application/json;charset=UTF-8:\r\n              schema:\r\n                $ref: '#/components/schemas/Error'\r\n        '403':\r\n          description: You don't have the right permissions to execute this operation.\r\n          content:\r\n            application/json;charset=UTF-8:\r\n              schema:\r\n                $ref: '#/components/schemas/Error'\r\n        '500':\r\n          description: An error has occurred.\r\n          content:\r\n            application/json;charset=UTF-8:\r\n              schema:\r\n                $ref: '#/components/schemas/Error'\r\n        '502':\r\n          description: The service is not available.\r\n          content:\r\n            application/json;charset=UTF-8:\r\n              schema:\r\n                $ref: '#/components/schemas/Error'\r\n      x-amazon-apigateway-integration:\r\n        payloadFormatVersion: '2.0'\r\n        type: aws_proxy\r\n        httpMethod: POST\r\n        uri: arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:458709605842:function:pre-lambda_back-office-preprocessing_a/invocations\r\n  /orders/update:\r\n    post:\r\n      tags:\r\n      - Order\r\n      summary: Update the status of an order list\r\n      description: \"### Details: \\nUpdate the status of an order list. Receives the\\\r\n        \\ Action for the approvals engine to modify the status of the order by orderId\\n\"\r\n      operationId: PostOrderUpdate\r\n      parameters:\r\n      - name: authorization\r\n        in: header\r\n        description: JWT Authorization Token.\r\n        required: true\r\n        schema:\r\n          type: string\r\n          example: ZDk5b0FscGdHdVBLR0Y1eG5pRDlqQzgwbzlMWHIyUTpzNUJMTDAwTW1Cck\r\n      - name: app-name\r\n        in: header\r\n        description: Application Name - BackOffice | BusinessBanking | MobileToken\r\n        required: true\r\n        schema:\r\n          type: string\r\n          example: BackOffice\r\n      - name: caller-name\r\n        in: header\r\n        description: Api name who request\r\n        required: true\r\n        schema:\r\n          type: string\r\n          example: bbe-msa-bs-guided-experience\r\n      - name: process-code\r\n        in: header\r\n        description: Identifies the process or functionality\r\n        required: false\r\n        schema:\r\n          type: string\r\n          example: BJACAR01\r\n      - name: request-date\r\n        in: header\r\n        description: Request Date | RFC 3339 Format\r\n        required: true\r\n        schema:\r\n          $ref: '#/components/schemas/request-date'\r\n        example: 2019-04-29 07:20:50.520000+00:00\r\n      - name: request-id\r\n        in: header\r\n        description: Request Identifier\r\n        required: true\r\n        schema:\r\n          type: string\r\n          example: id of request\r\n      - name: x-device\r\n        in: header\r\n        description: Identifier of the device.\r\n        required: true\r\n        style: simple\r\n        explode: false\r\n        schema:\r\n          type: string\r\n          example: 9939aadd00ee32\r\n      - name: x-device-ip\r\n        in: header\r\n        description: IP address of origin of the request.\r\n        required: true\r\n        style: simple\r\n        explode: false\r\n        schema:\r\n          type: string\r\n          example: 200.10.89.34\r\n      - name: x-language\r\n        in: header\r\n        description: ISO – 639-1  – Language Code - 2 digit code.\r\n        required: true\r\n        style: simple\r\n        explode: false\r\n        schema:\r\n          maxLength: 5\r\n          type: string\r\n      requestBody:\r\n        description: Patch order request\r\n        content:\r\n          application/json:\r\n            schema:\r\n              type: array\r\n              items:\r\n                $ref: '#/components/schemas/UxPostOrderUpdateRequest'\r\n      responses:\r\n        '200':\r\n          description: List of changed orders\r\n          content:\r\n            application/json:\r\n              schema:\r\n                type: array\r\n                items:\r\n                  $ref: '#/components/schemas/UxPostOrderUpdateResponse'\r\n        '400':\r\n          description: The request information it's not correct.\r\n          content:\r\n            application/json;charset=UTF-8:\r\n              schema:\r\n                $ref: '#/components/schemas/Error'\r\n        '401':\r\n          description: You're not authorized to perform this operation.\r\n          content:\r\n            application/json;charset=UTF-8:\r\n              schema:\r\n                $ref: '#/components/schemas/Error'\r\n        '403':\r\n          description: You don't have the right permissions to execute this operation.\r\n          content:\r\n            application/json;charset=UTF-8:\r\n              schema:\r\n                $ref: '#/components/schemas/Error'\r\n        '500':\r\n          description: An error has occurred.\r\n          content:\r\n            application/json;charset=UTF-8:\r\n              schema:\r\n                $ref: '#/components/schemas/Error'\r\n        '502':\r\n          description: The service is not available.\r\n          content:\r\n            application/json;charset=UTF-8:\r\n              schema:\r\n                $ref: '#/components/schemas/Error'\r\n      x-amazon-apigateway-integration:\r\n        payloadFormatVersion: '2.0'\r\n        type: aws_proxy\r\n        httpMethod: POST\r\n        uri: arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:458709605842:function:pre-lambda_back-office-preprocessing_a/invocations\r\n  /orders/approve:\r\n    post:\r\n      tags:\r\n      - Order\r\n      summary: Approve Orders\r\n      description: \"### Details:\\nApprove order in the tray \\n\\n\"\r\n      operationId: PostOrderApprove\r\n      parameters:\r\n      - name: authorization\r\n        in: header\r\n        description: JWT Authorization Token.\r\n        required: true\r\n        schema:\r\n          type: string\r\n          example: ZDk5b0FscGdHdVBLR0Y1eG5pRDlqQzgwbzlMWHIyUTpzNUJMTDAwTW1Cck\r\n      - name: app-name\r\n        in: header\r\n        description: Application Name - BackOffice | BusinessBanking | MobileToken\r\n        required: true\r\n        schema:\r\n          type: string\r\n          example: BackOffice\r\n      - name: caller-name\r\n        in: header\r\n        description: Api name who request\r\n        required: true\r\n        schema:\r\n          type: string\r\n          example: bbe-msa-bs-guided-experience\r\n      - name: process-code\r\n        in: header\r\n        description: Identifies the process or functionality\r\n        required: false\r\n        schema:\r\n          type: string\r\n          example: BJACAR01\r\n      - name: request-date\r\n        in: header\r\n        description: Request Date | RFC 3339 Format\r\n        required: true\r\n        schema:\r\n          $ref: '#/components/schemas/request-date'\r\n        example: 2019-04-29 07:20:50.520000+00:00\r\n      - name: request-id\r\n        in: header\r\n        description: Request Identifier\r\n        required: true\r\n        schema:\r\n          type: string\r\n          example: id of request\r\n      - name: x-device\r\n        in: header\r\n        description: Identifier of the device.\r\n        required: true\r\n        style: simple\r\n        explode: false\r\n        schema:\r\n          type: string\r\n          example: 9939aadd00ee32\r\n      - name: x-device-ip\r\n        in: header\r\n        description: IP address of origin of the request.\r\n        required: true\r\n        style: simple\r\n        explode: false\r\n        schema:\r\n          type: string\r\n          example: 200.10.89.34\r\n      - name: x-language\r\n        in: header\r\n        description: ISO – 639-1  – Language Code - 2 digit code.\r\n        required: true\r\n        style: simple\r\n        explode: false\r\n        schema:\r\n          maxLength: 5\r\n          type: string\r\n      requestBody:\r\n        description: User\r\n        content:\r\n          application/json:\r\n            schema:\r\n              $ref: '#/components/schemas/UxPostOrderApproveRequest'\r\n        required: true\r\n      responses:\r\n        '200':\r\n          description: Orders Approved List\r\n          content:\r\n            application/json:\r\n              schema:\r\n                type: array\r\n                items:\r\n                  $ref: '#/components/schemas/UxPostOrderApproveResponse'\r\n        '400':\r\n          description: The request information it's not correct.\r\n          content:\r\n            application/json;charset=UTF-8:\r\n              schema:\r\n                $ref: '#/components/schemas/Error'\r\n        '401':\r\n          description: You're not authorized to perform this operation.\r\n          content:\r\n            application/json;charset=UTF-8:\r\n              schema:\r\n                $ref: '#/components/schemas/Error'\r\n        '403':\r\n          description: You don't have the right permissions to execute this operation.\r\n          content:\r\n            application/json;charset=UTF-8:\r\n              schema:\r\n                $ref: '#/components/schemas/Error'\r\n        '500':\r\n          description: An error has occurred.\r\n          content:\r\n            application/json;charset=UTF-8:\r\n              schema:\r\n                $ref: '#/components/schemas/Error'\r\n        '502':\r\n          description: The service is not available.\r\n          content:\r\n            application/json;charset=UTF-8:\r\n              schema:\r\n                $ref: '#/components/schemas/Error'\r\n      x-amazon-apigateway-integration:\r\n        payloadFormatVersion: '2.0'\r\n        type: aws_proxy\r\n        httpMethod: POST\r\n        uri: arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:458709605842:function:pre-lambda_back-office-preprocessing_a/invocations\r\ncomponents:\r\n  schemas:\r\n    DashboardFilters:\r\n      type: object\r\n      properties:\r\n        beneficiaryFullName:\r\n          type: string\r\n          description: Beneficiary full name\r\n          example: Sac\r\n        productName:\r\n          type: array\r\n          description: Product name\r\n          items:\r\n            type: string\r\n          example:\r\n          - Service1\r\n          - Service2\r\n    UxGetOrderResponse:\r\n      type: object\r\n      properties:\r\n        orders:\r\n          type: array\r\n          items:\r\n            $ref: '#/components/schemas/Order'\r\n        pagination:\r\n          $ref: '#/components/schemas/Pagination'\r\n    Pagination:\r\n      type: object\r\n      properties:\r\n        itemQuantity:\r\n          type: integer\r\n          description: total number of available orders\r\n          example: 40\r\n    UxPostOrderUpdateRequest:\r\n      type: object\r\n      properties:\r\n        orderId:\r\n          type: string\r\n          description: initial order id for update\r\n          example: 18191-a8a02\r\n        action:\r\n          $ref: '#/components/schemas/Action'\r\n        message:\r\n          type: string\r\n          description: description for type action\r\n          example: description for type action\r\n    Action:\r\n      type: object\r\n      properties:\r\n        code:\r\n          type: string\r\n          description: action to perform in order\r\n          example: TO_REJECT\r\n    Order:\r\n      type: object\r\n      properties:\r\n        orderNumber:\r\n          type: integer\r\n          description: order id\r\n          format: int64\r\n          example: 127229\r\n        orderId:\r\n          type: string\r\n          description: Order id stored in cache\r\n          example: asdf-213-dsdewwww-56666\r\n        customerProduct:\r\n          $ref: '#/components/schemas/CustomerProduct'\r\n        orderItem:\r\n          $ref: '#/components/schemas/OrderItem'\r\n        startOrderDate:\r\n          type: string\r\n          description: Initial Date for collect money\r\n          example: 28/01\r\n        endOrderDate:\r\n          type: string\r\n          description: End Date for collect money\r\n          example: 28/01\r\n        lastChangeDate:\r\n          type: string\r\n          description: Last Date when the order changes\r\n          example: 28/01\r\n        amount:\r\n          type: number\r\n          description: amount for collect\r\n          example: 10\r\n        currency:\r\n          $ref: '#/components/schemas/Currency'\r\n        status:\r\n          $ref: '#/components/schemas/Status'\r\n    Currency:\r\n      type: object\r\n      properties:\r\n        code:\r\n          type: string\r\n          description: Currency code\r\n          example: USD\r\n    Status:\r\n      type: object\r\n      properties:\r\n        code:\r\n          type: string\r\n          description: Status code\r\n          example: PENDING\r\n    PostUpdateStatus:\r\n      type: object\r\n      properties:\r\n        code:\r\n          type: string\r\n          description: Status code\r\n          example: REJECTED\r\n    StatusApprove:\r\n      type: object\r\n      properties:\r\n        code:\r\n          type: string\r\n          description: Status code\r\n          example: APPROVED\r\n    CustomerProduct:\r\n      type: object\r\n      properties:\r\n        customerProductId:\r\n          type: string\r\n          description: product Id\r\n          example: asdf-32323\r\n        name:\r\n          type: string\r\n          description: product name\r\n          example: Recaudación\r\n    UxPostOrderApproveRequest:\r\n      type: object\r\n      required:\r\n      - tokenAuthenticationId\r\n      properties:\r\n        tokenAuthenticationId:\r\n          type: string\r\n          description: Id authentication token\r\n          example: 2000-12215asdas-1d2asd0\r\n        orders:\r\n          type: array\r\n          required:\r\n          - orderId\r\n          items:\r\n            type: object\r\n            properties:\r\n              orderId:\r\n                type: string\r\n                description: order uuid in cache\r\n                example: asdf-213-dsdewwww-56666\r\n    UxPostOrderApproveResponse:\r\n      type: object\r\n      properties:\r\n        orderNumber:\r\n          type: string\r\n          description: order number\r\n          example: '12'\r\n        status:\r\n          $ref: '#/components/schemas/StatusApprove'\r\n        customerProduct:\r\n          $ref: '#/components/schemas/CustomerProduct'\r\n        message:\r\n          type: string\r\n          description: reason if order is not processed\r\n          example: there are not approver for order\r\n    UxPostOrderUpdateResponse:\r\n      type: object\r\n      properties:\r\n        orderNumber:\r\n          type: string\r\n          description: order number\r\n          example: '12'\r\n        status:\r\n          $ref: '#/components/schemas/PostUpdateStatus'\r\n        customerProduct:\r\n          $ref: '#/components/schemas/CustomerProduct'\r\n        displayMessage:\r\n          type: string\r\n          description: reason if order is not processed\r\n          example: there are not approver for order\r\n    OrderItem:\r\n      type: object\r\n      properties:\r\n        identificationValue:\r\n          type: string\r\n          description: value for get a counterpart\r\n          example: '17913233'\r\n          x-mapping: query_order.billId\r\n        beneficiary:\r\n          $ref: '#/components/schemas/Beneficiary'\r\n    Beneficiary:\r\n      type: object\r\n      properties:\r\n        fullName:\r\n          type: string\r\n          description: beneficiary name\r\n          example: Camilo Casas\r\n        documentType:\r\n          type: string\r\n          description: beneficiry document type\r\n          example: '0001'\r\n        documentNumber:\r\n          type: string\r\n          description: beneficiry document number\r\n          example: '9289282'\r\n    Error:\r\n      type: object\r\n      properties:\r\n        errorCode:\r\n          maxLength: 6\r\n          pattern: ^[a-zA-Z]+$\\d+$\r\n          type: string\r\n        developerMessage:\r\n          maxLength: 256\r\n          pattern: ^[a-zA-Z\\s]*$\r\n          type: string\r\n        userMessage:\r\n          maxLength: 256\r\n          pattern: ^[a-zA-Z\\s]*$\r\n          type: string\r\n        moreInfo:\r\n          maxLength: 256\r\n          pattern: ^[a-zA-Z\\s]*$\r\n          type: string\r\n        version:\r\n          maxLength: 256\r\n          pattern: ^[a-zA-Z\\s]*$\r\n          type: string\r\n          example: 1.0.0\r\n        status:\r\n          maxLength: 15\r\n          type: integer\r\n          example: 409\r\n      additionalProperties: false\r\n    request-date:\r\n      type: string\r\n    GetProfileTemplateByFiltersResponse:\r\n      title: GetProfileTemplateByFiltersResponse\r\n      type: object\r\n      properties:\r\n        profileTemplateId:\r\n          type: string\r\n          example: 1234-5678-90AB-CDEF\r\n        name:\r\n          type: string\r\n          example: Operator\r\n        description:\r\n          type: string\r\n          example: You will have access to create and generate transactions\r\n        registerDate:\r\n          type: string\r\n          format: date-time\r\n          example: '2017-07-21T17:32:28Z'\r\n        configParameters:\r\n          type: array\r\n          items:\r\n            $ref: '#/components/schemas/ProfileTemplateParam'\r\n    ProfileTemplateParam:\r\n      title: ProfileTemplateParam\r\n      type: object\r\n      properties:\r\n        name:\r\n          type: string\r\n          example: isEditable\r\n          description: Param code\r\n          x-mapping: profile_parameter.code_parameter\r\n        value:\r\n          type: string\r\n          example: '1'\r\n          description: Param value\r\n          x-mapping: profile_parameter.value\r\n    GetUserByFilterResponse:\r\n      title: GetUserByFilterResponse\r\n      type: object\r\n      required:\r\n      - customerAffiliationId\r\n      properties:\r\n        userId:\r\n          type: string\r\n          description: user id\r\n          example: 01906096-eb18-432b-a9ac-0aa5e80ebe9a\r\n        documentNumber:\r\n          type: string\r\n          description: document of identification user\r\n          example: '171655333001'\r\n        documentType:\r\n          type: string\r\n          description: type of documento\r\n          example: '0001'\r\n        names:\r\n          type: string\r\n          description: Names of user\r\n          example: Name\r\n        surnames:\r\n          type: string\r\n          description: Surnames\r\n          example: Lastname\r\n        position:\r\n          type: string\r\n          description: Surnames\r\n          example: Lastname\r\n        email:\r\n          type: string\r\n          description: Email of user\r\n          example: gobc@email.com\r\n        registerDate:\r\n          type: string\r\n          format: date-time\r\n          example: '2017-07-21T17:32:28Z'\r\n        channel:\r\n          type: string\r\n          example: Cliente\r\n        cellphone:\r\n          $ref: '#/components/schemas/CellPhone'\r\n        userProfile:\r\n          $ref: '#/components/schemas/Profile'\r\n        status:\r\n          $ref: '#/components/schemas/Status'\r\n    PostUserRequest:\r\n      title: PostUserRequest\r\n      type: object\r\n      properties:\r\n        userId:\r\n          type: string\r\n          example: 1234-5678-90AB-CDEF\r\n        profileTemplateId:\r\n          type: string\r\n          example: 1234-5678-90AB-CDEF\r\n        customerAffiliationId:\r\n          type: string\r\n          example: 1234-5678-90AB-CDEF\r\n        documentNumber:\r\n          type: string\r\n          example: '1721553616'\r\n          maxLength: 10\r\n        documentType:\r\n          type: string\r\n          example: '0001'\r\n          maxLength: 4\r\n        names:\r\n          type: string\r\n          example: Jhon Carlos\r\n        surnames:\r\n          type: string\r\n          example: Steward Colling\r\n        email:\r\n          type: string\r\n          example: jhondoe@mail.com\r\n        position:\r\n          type: string\r\n          example: Manager\r\n        cellphone:\r\n          $ref: '#/components/schemas/CellPhone'\r\n    CellPhone:\r\n      title: CellPhone\r\n      type: object\r\n      properties:\r\n        internationalPrefix:\r\n          type: string\r\n          example: '593'\r\n        number:\r\n          type: string\r\n          example: 0987654321\r\n    Profile:\r\n      title: Profile\r\n      type: object\r\n      required:\r\n      - userProfileId\r\n      properties:\r\n        userProfileId:\r\n          type: string\r\n          description: Code of profile\r\n          example: 01906096-eb18-432b-a9ac-0aa5e80ebe9a\r\n        name:\r\n          type: string\r\n          description: name of profile\r\n          example: Administrator\r\n        description:\r\n          type: string\r\n          description: Description\r\n          example: Allows you to perform operations to add, delete or modify\r\n    PostUserResponse:\r\n      title: PostUserResponse\r\n      type: object\r\n      properties:\r\n        userId:\r\n          type: string\r\n          example: 4085b199-5994-4016-ad0c-e28486c59008\r\n    GetAccountByFilterResponse:\r\n      title: GetAccountByFilterResponse\r\n      type: object\r\n      properties:\r\n        accounts:\r\n          type: array\r\n          items:\r\n            $ref: '#/components/schemas/GetAccount'\r\n        permissions:\r\n          type: array\r\n          items:\r\n            $ref: '#/components/schemas/GetPermission'\r\n    GetAccount:\r\n      title: GetAccount\r\n      type: object\r\n      properties:\r\n        accountId:\r\n          type: string\r\n          example: 2ad8b8fb-f414-4bd7-8733-82b8d8160452\r\n        name:\r\n          type: string\r\n          example: Cuenta ahorros\r\n        alias:\r\n          type: string\r\n          example: PRIN Santo domingo\r\n        type:\r\n          $ref: '#/components/schemas/GetAccountType'\r\n        accountNumber:\r\n          type: string\r\n          example: '2255889965'\r\n    GetAccountType:\r\n      title: GetAccountType\r\n      type: object\r\n      properties:\r\n        code:\r\n          type: string\r\n          example: ''\r\n        description:\r\n          type: string\r\n          example: CTA.CTE PERSONAL\r\n    GetPermission:\r\n      title: GetPermission\r\n      type: object\r\n      properties:\r\n        permissionId:\r\n          type: string\r\n          example: 2ad8b8fb-f414-4bd7-8733-82b8d8160452\r\n        description:\r\n          type: string\r\n          example: persmission descripcion example\r\n        claim:\r\n          type: string\r\n          example: RE.ASD.ED\r\n        isSelected:\r\n          type: boolean\r\n          example: true\r\n    PostBankingProductOperationRequest:\r\n      title: PostBankingProductOperationRequest\r\n      type: object\r\n      properties:\r\n        userId:\r\n          type: string\r\n          example: 2ad8b8fb-f414-4bd7-8733-82b8d8160452\r\n        accounts:\r\n          type: array\r\n          items:\r\n            $ref: '#/components/schemas/PostAccount'\r\n        actions:\r\n          type: array\r\n          items:\r\n            $ref: '#/components/schemas/PostAction'\r\n    PostAccount:\r\n      title: PostAccount\r\n      type: object\r\n      properties:\r\n        accountId:\r\n          type: string\r\n          example: 2ad8b8fb-f414-4bd7-8733-82b8d8160452\r\n    PostAction:\r\n      title: PostAction\r\n      type: object\r\n      properties:\r\n        actionId:\r\n          type: string\r\n          example: 2ad8b8fb-f414-4bd7-8733-82b8d8160452\r\n    GetUserApprovalLevelByFilterResponse:\r\n      title: GetUserApprovalLevelByFilterResponse\r\n      type: object\r\n      properties:\r\n        product:\r\n          $ref: '#/components/schemas/GetProduct'\r\n    GetProduct:\r\n      title: GetProduct\r\n      type: object\r\n      properties:\r\n        productId:\r\n          type: string\r\n          example: 01906096-eb18-432b-a9ac-0aa5e80ebe9a\r\n        name:\r\n          type: string\r\n          example: APR\r\n        description:\r\n          type: string\r\n          example: Aprobar transferencias\r\n        claim:\r\n          type: string\r\n          example: ABC.DEF.GHI\r\n        approvalLevels:\r\n          type: array\r\n          items:\r\n            $ref: '#/components/schemas/GetApprovalLevel'\r\n    GetApprovalLevel:\r\n      title: GetApprovalLevel\r\n      type: object\r\n      properties:\r\n        categories:\r\n          type: array\r\n          items:\r\n            $ref: '#/components/schemas/GetCategory'\r\n        limitsAmount:\r\n          type: array\r\n          items:\r\n            $ref: '#/components/schemas/GetLimitAmount'\r\n    GetCategory:\r\n      title: Category\r\n      type: object\r\n      properties:\r\n        categoryId:\r\n          type: string\r\n          example: 01906096-eb18-432b-a9ac-0aa5e80ebe9a\r\n        name:\r\n          type: string\r\n          example: Name example\r\n        isSelected:\r\n          type: boolean\r\n          example: false\r\n    GetLimitAmount:\r\n      title: GetLimitAmount\r\n      type: object\r\n      properties:\r\n        minAmount:\r\n          type: string\r\n          example: '0'\r\n        maxAmount:\r\n          type: string\r\n          example: '10'\r\n        currency:\r\n          $ref: '#/components/schemas/Currency'\r\n        categories:\r\n          type: array\r\n          items:\r\n            $ref: '#/components/schemas/GetCategoryId'\r\n    GetCategoryId:\r\n      title: GetCategoryId\r\n      type: object\r\n      properties:\r\n        categoryId:\r\n          type: string\r\n          example: 01906096-eb18-432b-a9ac-0aa5e80ebe9a\r\n    PostUserApprovalLevelRequest:\r\n      title: PostUserApprovalLevelRequest\r\n      type: object\r\n      properties:\r\n        userId:\r\n          type: string\r\n          example: 4085b199-5994-4016-ad0c-e28486c59008\r\n        userProfileId:\r\n          type: string\r\n          example: 4085b199-5994-4016-ad0c-e28486c59008\r\n        userCustomerProduct:\r\n          type: array\r\n          items:\r\n            $ref: '#/components/schemas/PostUserCustomerProduct'\r\n    PostUserCustomerProduct:\r\n      title: PostUserCustomerProduct\r\n      type: object\r\n      properties:\r\n        productId:\r\n          type: string\r\n          example: 1234-5678-90AB-CDEFGH\r\n        approvalLevel:\r\n          $ref: '#/components/schemas/PostApprovalLevel'\r\n    PostApprovalLevel:\r\n      title: PostApprovalLevel\r\n      type: object\r\n      properties:\r\n        categoryId:\r\n          type: string\r\n          example: 1234-5678-90AB-CDEFGH\r\n        isSelected:\r\n          type: boolean\r\n          example: true\r\n    PostUserActivateRequest:\r\n      title: PostUserActivateRequest\r\n      type: object\r\n      properties:\r\n        userId:\r\n          type: string\r\n          example: 1234-5678-90AB-CDEFGH\r\n  parameters:\r\n    authorization:\r\n      name: authorization\r\n      in: header\r\n      description: JWT Authorization Token.\r\n      required: true\r\n      schema:\r\n        type: string\r\n        example: ZDk5b0FscGdHdVBLR0Y1eG5pRDlqQzgwbzlMWHIyUTpzNUJMTDAwTW1Cck\r\n    app-name:\r\n      name: app-name\r\n      in: header\r\n      description: Application Name - BackOffice | BusinessBanking | MobileToken\r\n      required: true\r\n      schema:\r\n        type: string\r\n        example: BackOffice\r\n    caller-name:\r\n      name: caller-name\r\n      in: header\r\n      description: Api name who request\r\n      required: true\r\n      schema:\r\n        type: string\r\n        example: bbe-msa-bs-guided-experience\r\n    process-code:\r\n      name: process-code\r\n      in: header\r\n      description: Identifies the process or functionality\r\n      required: false\r\n      schema:\r\n        type: string\r\n        example: BJACAR01\r\n    request-date:\r\n      name: request-date\r\n      in: header\r\n      description: Request Date | RFC 3339 Format\r\n      required: true\r\n      schema:\r\n        $ref: '#/components/schemas/request-date'\r\n      example: 2019-04-29 07:20:50.520000+00:00\r\n    request-id:\r\n      name: request-id\r\n      in: header\r\n      description: Request Identifier\r\n      required: true\r\n      schema:\r\n        type: string\r\n        example: id of request\r\n    x-device:\r\n      name: x-device\r\n      in: header\r\n      description: Identifier of the device.\r\n      required: true\r\n      style: simple\r\n      explode: false\r\n      schema:\r\n        type: string\r\n        example: 9939aadd00ee32\r\n    x-device-ip:\r\n      name: x-device-ip\r\n      in: header\r\n      description: IP address of origin of the request.\r\n      required: true\r\n      style: simple\r\n      explode: false\r\n      schema:\r\n        type: string\r\n        example: 200.10.89.34\r\n    x-language:\r\n      name: x-language\r\n      in: header\r\n      description: ISO – 639-1  – Language Code - 2 digit code.\r\n      required: true\r\n      style: simple\r\n      explode: false\r\n      schema:\r\n        maxLength: 5\r\n        type: string\r\n  securitySchemes:\r\n    ApiKeyAuth:\r\n      type: apiKey\r\n      name: Authorization\r\n      in: header\r\n    oauth2:\r\n      type: oauth2\r\n      x-amazon-apigateway-authorizer:\r\n        type: jwt\r\n        identitySource: $request.header.Authorization\r\n        jwtConfiguration:\r\n          issuer: https://login.microsoftonline.com/10da1d35-90f9-400b-9fd8-770597b82485/v2.0\r\n          audience: [\"api://56ee37cb-e5ad-482f-9855-86e85d8c7889\", \"56ee37cb-e5ad-482f-9855-86e85d8c7889\"]\r\n          \r\nx-amazon-apigateway-cors:\r\n  allowOrigins:\r\n  - '*'\r\n  allowHeaders:\r\n  - Authorization\r\n  - Content-Type\r\n  - x-api-key\r\n  - x-language\r\n  - app-name\r\n  - caller-name\r\n  - client-ip\r\n  allowMethods:\r\n  - GET\r\n  - POST\r\n  - OPTIONS\r\n",
            "cors_configuration": [],
            "credentials_arn": null,
            "description": "Api Channel Business Banking Approval Tray Order V1. \u003cbr\u003e\n\u003e \u003cb\u003eDominio de Servicio BIAN\u003c/b\u003e `Payment Rail Operations`\u003cbr\u003e\n",
            "disable_execute_api_endpoint": false,
            "execution_arn": "arn:aws:execute-api:us-east-1:458709605842:s5buzhhjv5",
            "fail_on_warnings": null,
            "id": "s5buzhhjv5",
            "ip_address_type": "ipv4",
            "name": "Api Channel Business Banking Approval Tray Order V1",
            "protocol_type": "HTTP",
            "region": "us-east-1",
            "route_key": null,
            "route_selection_expression": "$request.method $request.path",
            "tags": {
              "Order": ""
            },
            "tags_all": {
              "Order": ""
            },
            "target": null,
            "version": "1.2.3"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "aws_security_group.lambda_sg",
            "data.aws_lb.k8s_nlb",
            "data.aws_lb_listener.k8s_nlb_listener",
            "module.lambda_pre.aws_iam_role.lambda_exec",
            "module.lambda_pre.aws_iam_role_policy.secrets_read",
            "module.lambda_pre.aws_iam_role_policy_attachment.basic",
            "module.lambda_pre.aws_iam_role_policy_attachment.vpc_access",
            "module.lambda_pre.aws_lambda_function.this",
            "module.vpclink.aws_apigatewayv2_vpc_link.this"
          ]
        }
      ]
    },
    {
      "module": "module.http_api[\"bbe-msa-ux-tray-order-v1\"]",
      "mode": "managed",
      "type": "aws_apigatewayv2_stage",
      "name": "stage",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "access_log_settings": [],
            "api_id": "s5buzhhjv5",
            "arn": "arn:aws:apigateway:us-east-1::/apis/s5buzhhjv5/stages/dev",
            "auto_deploy": true,
            "client_certificate_id": "",
            "default_route_settings": [
              {
                "data_trace_enabled": false,
                "detailed_metrics_enabled": false,
                "logging_level": "",
                "throttling_burst_limit": 0,
                "throttling_rate_limit": 0
              }
            ],
            "deployment_id": "",
            "description": "",
            "execution_arn": "arn:aws:execute-api:us-east-1:458709605842:s5buzhhjv5/dev",
            "id": "dev",
            "invoke_url": "https://s5buzhhjv5.execute-api.us-east-1.amazonaws.com/dev",
            "name": "dev",
            "region": "us-east-1",
            "route_settings": [],
            "stage_variables": null,
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "aws_security_group.lambda_sg",
            "data.aws_lb.k8s_nlb",
            "data.aws_lb_listener.k8s_nlb_listener",
            "module.http_api.aws_apigatewayv2_api.api_from_spec",
            "module.lambda_pre.aws_iam_role.lambda_exec",
            "module.lambda_pre.aws_iam_role_policy.secrets_read",
            "module.lambda_pre.aws_iam_role_policy_attachment.basic",
            "module.lambda_pre.aws_iam_role_policy_attachment.vpc_access",
            "module.lambda_pre.aws_lambda_function.this",
            "module.vpclink.aws_apigatewayv2_vpc_link.this"
          ]
        }
      ]
    },
    {
      "module": "module.lambda_pre[\"lambda_back-office-preprocessing_a\"]",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "lambda_exec",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::458709605842:role/pre-lambda_back-office-preprocessing_a-role",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2025-09-24T03:37:16Z",
            "description": "",
            "force_detach_policies": false,
            "id": "pre-lambda_back-office-preprocessing_a-role",
            "inline_policy": [],
            "managed_policy_arns": [
              "arn:aws:iam::458709605842:policy/lambda-secrets-read",
              "arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              "arn:aws:iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"
            ],
            "max_session_duration": 3600,
            "name": "pre-lambda_back-office-preprocessing_a-role",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": "",
            "tags": {},
            "tags_all": {},
            "unique_id": "AROAWVTJZDXJMXX2XWZ4K"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "458709605842",
            "name": "pre-lambda_back-office-preprocessing_a-role"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.lambda_pre[\"lambda_back-office-preprocessing_a\"]",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "basic",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "pre-lambda_back-office-preprocessing_a-role/arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
            "policy_arn": "arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
            "role": "pre-lambda_back-office-preprocessing_a-role"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "458709605842",
            "policy_arn": "arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
            "role": "pre-lambda_back-office-preprocessing_a-role"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.lambda_pre.aws_iam_role.lambda_exec"
          ]
        }
      ]
    },
    {
      "module": "module.lambda_pre[\"lambda_back-office-preprocessing_a\"]",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "vpc_access",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "pre-lambda_back-office-preprocessing_a-role/arn:aws:iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole",
            "policy_arn": "arn:aws:iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole",
            "role": "pre-lambda_back-office-preprocessing_a-role"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "458709605842",
            "policy_arn": "arn:aws:iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole",
            "role": "pre-lambda_back-office-preprocessing_a-role"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.lambda_pre.aws_iam_role.lambda_exec"
          ]
        }
      ]
    },
    {
      "module": "module.lambda_pre[\"lambda_back-office-preprocessing_a\"]",
      "mode": "managed",
      "type": "aws_lambda_function",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "architectures": [
              "x86_64"
            ],
            "arn": "arn:aws:lambda:us-east-1:458709605842:function:pre-lambda_back-office-preprocessing_a",
            "code_sha256": "2CkOTBvV1EUxX76fRabVSceQzQzPAR3h/NltOHfufbs=",
            "code_signing_config_arn": "",
            "dead_letter_config": [],
            "description": "",
            "environment": [
              {
                "variables": {
                  "CONNECT_TIMEOUT_MS": "20000",
                  "FORWARD_BASE_PATH": "/k8s",
                  "INCLUDE_STAGE_IN_PATH": "false",
                  "LOG_HEADERS": "false",
                  "NLB_HOST": "a56fa51e907974948afd5ece19e008c3-2b948b95d57237cc.elb.us-east-1.amazonaws.com",
                  "NLB_PORT": "80",
                  "NLB_SCHEME": "http",
                  "READ_TIMEOUT_MS": "10000",
                  "RETRIES": "0",
                  "RSA_KEYS_SECRET_NAME": "rsa-keys/dev",
                  "UPSTREAM_HOST_HEADER": "apisdes.bancaempresasdescal.pichincha.pe"
                }
              }
            ],
            "ephemeral_storage": [
              {
                "size": 512
              }
            ],
            "file_system_config": [],
            "filename": "../lambda/pre-proc-normalize/dist/pre-proc-normalize.zip",
            "function_name": "pre-lambda_back-office-preprocessing_a",
            "handler": "index.handler",
            "id": "pre-lambda_back-office-preprocessing_a",
            "image_config": [],
            "image_uri": "",
            "invoke_arn": "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:458709605842:function:pre-lambda_back-office-preprocessing_a/invocations",
            "kms_key_arn": "",
            "last_modified": "2025-09-24T13:59:31.000+0000",
            "layers": [],
            "logging_config": [
              {
                "application_log_level": "",
                "log_format": "Text",
                "log_group": "/aws/lambda/pre-lambda_back-office-preprocessing_a",
                "system_log_level": ""
              }
            ],
            "memory_size": 128,
            "package_type": "Zip",
            "publish": false,
            "qualified_arn": "arn:aws:lambda:us-east-1:458709605842:function:pre-lambda_back-office-preprocessing_a:$LATEST",
            "qualified_invoke_arn": "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:458709605842:function:pre-lambda_back-office-preprocessing_a:$LATEST/invocations",
            "region": "us-east-1",
            "replace_security_groups_on_destroy": null,
            "replacement_security_group_ids": null,
            "reserved_concurrent_executions": -1,
            "role": "arn:aws:iam::458709605842:role/pre-lambda_back-office-preprocessing_a-role",
            "runtime": "nodejs20.x",
            "s3_bucket": null,
            "s3_key": null,
            "s3_object_version": null,
            "signing_job_arn": "",
            "signing_profile_version_arn": "",
            "skip_destroy": false,
            "snap_start": [],
            "source_code_hash": "",
            "source_code_size": 2988,
            "source_kms_key_arn": "",
            "tags": {
              "env": "dev",
              "owner": "da-team"
            },
            "tags_all": {
              "env": "dev",
              "owner": "da-team"
            },
            "timeout": 29,
            "timeouts": null,
            "tracing_config": [
              {
                "mode": "PassThrough"
              }
            ],
            "version": "$LATEST",
            "vpc_config": [
              {
                "ipv6_allowed_for_dual_stack": false,
                "security_group_ids": [
                  "sg-0a323e9bea3e7a295"
                ],
                "subnet_ids": [
                  "subnet-068164e782b6073ab",
                  "subnet-08e8ea6ec4fe2652a"
                ],
                "vpc_id": "vpc-0460f67b8e0530a61"
              }
            ]
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "458709605842",
            "function_name": "pre-lambda_back-office-preprocessing_a",
            "region": "us-east-1"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_security_group.lambda_sg",
            "data.aws_lb.k8s_nlb",
            "module.lambda_pre.aws_iam_role.lambda_exec",
            "module.lambda_pre.aws_iam_role_policy_attachment.basic",
            "module.lambda_pre.aws_iam_role_policy_attachment.vpc_access"
          ]
        }
      ]
    },
    {
      "module": "module.vpclink",
      "mode": "managed",
      "type": "aws_apigatewayv2_vpc_link",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:apigateway:us-east-1::/vpclinks/lzb6j7",
            "id": "lzb6j7",
            "name": "vpclink",
            "region": "us-east-1",
            "security_group_ids": [
              "sg-0a323e9bea3e7a295"
            ],
            "subnet_ids": [
              "subnet-068164e782b6073ab",
              "subnet-08e8ea6ec4fe2652a"
            ],
            "tags": {
              "env": "dev",
              "owner": "da-team"
            },
            "tags_all": {
              "env": "dev",
              "owner": "da-team"
            }
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "aws_security_group.lambda_sg"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
